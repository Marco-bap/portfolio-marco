<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marco Alulema - Professional Portfolio</title>
    <link rel="icon" href="./profile.jpg" type="image/jpeg">
    
    <!-- Tailwind CSS (Estilos) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuraci贸n de Tailwind para animaciones personalizadas -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out forwards',
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'scroll': 'scroll 40s linear infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(40px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        scroll: { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-50%)' } }
                    }
                }
            }
        }
    </script>

    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .hover-pause:hover {
            animation-play-state: paused;
        }
        
        .mask-gradient {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }

        /* Markdown-ish styling for chat */
        .chat-message strong { font-weight: bold; color: #2563eb; }
        .chat-message ul { list-style-type: disc; margin-left: 1.5em; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    
    <div id="root"></div>

    <script type="text/babel">
        // ==========================================================================================
        //  猬锔猬锔猬锔 ZONA EDITABLE - COMIENZA A EDITAR AQU / START EDITING HERE 猬锔猬锔猬锔
        // ==========================================================================================
        const partA = "AIzaSyAlP_yMyxjSwbWAT"; 
        const partB = "8KyV6Fg7yapYnp2PmQ";
        // 1. CONFIGURACIN GENERAL (Claves API, Tel茅fonos, Enlaces globales)
        const CONFIG = {
            
            geminiApiKey: partA + partB, // Pon tu API Key de Google Gemini aqu铆 si deseas el chat activo
            whatsappNumber: "34604233982", // N煤mero para el bot贸n flotante (sin el +)
            linkedinProfile: "https://www.linkedin.com/in/marco-alulema-p",
            email: "marco.alulema@eu4m.eu",
            cvSpanish: "CV_Marco_Alulema_Esp.pdf", // Ruta a tu CV en espa帽ol
            cvEnglish: "CV_Marco_Alulema_Eng.pdf" // Ruta a tu CV en ingl茅s
        };

        // 2. LOGOS DE SOFTWARE (Comunes para ambos idiomas)
        const SHARED_SOFTWARE_LOGOS = [
            { name: "SolidWorks", url: "https://www.3ds.com/assets/3ds-navigation/Solidworks-logo_red.svg" },
            { name: "ROS", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Ros_logo.svg/2560px-Ros_logo.svg.png" },
            { name: "Siemens", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Siemens_AG_logo.svg/1280px-Siemens_AG_logo.svg.png" },
            { name: "AutoCAD", url: "https://upload.wikimedia.org/wikipedia/commons/6/61/AutoCAD-logo.png" },
            { name: "Ansys", url: "https://www.ansys.com/content/dam/product/workbench-vertical.png?wid=1200" },
            { name: "MATLAB", url: "https://1000logos.net/wp-content/uploads/2021/04/MATLAB-logo.png" },
            { name: "LabVIEW", url: "https://www.amplicon.com/cachedImages/ni-labview-software-logo_582739.webp" },
            { name: "FluidSIM", url: "https://i.ytimg.com/vi/jJjngIQycZk/maxresdefault.jpg" },
            { name: "Office", url: "https://upload.wikimedia.org/wikipedia/commons/a/a0/Microsoft_Office_Logo_%282019%29.png" },
            { name: "Proteus", url: "https://edasim.com/wp-content/uploads/2020/06/edasim-integrating-ideas-logo-proteus.png" },
            { name: "Abaqus", url: "https://static.wixstatic.com/media/1d5ca8_b4407ceab4c148638695d70526efd3ab~mv2.png/v1/fill/w_568,h_276,al_c,lg_1,q_85,enc_avif,quality_auto/1d5ca8_b4407ceab4c148638695d70526efd3ab~mv2.png" },
            { name: "Raspberry Pi", url: "https://companieslogo.com/img/orig/RPI.L_BIG-6ca2afa4.png?t=1724236366" },
            { name: "Ultimaker Cura", url: "https://itsmeadmade.com/wp-content/uploads/2023/04/Screenshot-2023-04-01-at-1.30.26-PM.png" },
            { name: "Visual Studio", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Visual_Studio_Icon_2022.svg/2048px-Visual_Studio_Icon_2022.svg.png" }
        ];

        // 3. CONTENIDO PRINCIPAL (Textos traducidos)
        const DATA = {
            es: {
                nav: {
                    aboutMe: "Sobre M铆", 
                    journey: "Trayectoria",
                    projects: "Proyectos",
                    experience: "Experiencia",
                    contact: "Contacto"
                },
                hero: {
                    role: "Mag铆ster en Ingenier铆a Mecatr贸nica & Experto en Gesti贸n de Riesgos",
                    subrole: "MSc. Mecatr贸nica (EU4M) | Project Manager | MSc. Gesti贸n de Riesgos",
                    desc: "Ingeniero Mecatr贸nico especializado en automatizaci贸n industrial, programaci贸n PLC y dise帽o 3D, complementado con habilidades en gesti贸n de proyectos y riesgos (HSEQ). Perspectiva global adquirida en Ecuador, Espa帽a, Egipto y Alemania. Auditor L铆der certificado en sistemas de gesti贸n.",
                    btn_contact: "Cont谩ctame"
                },
                aboutMe: {
                    title: "Sobre M铆",
                    photoUrl: "./profile.jpg", 
                    bio: [
                        "Soy un Ingeniero Mecatr贸nico apasionado por la intersecci贸n entre la rob贸tica avanzada y la gesti贸n estrat茅gica de procesos. Poseo una s贸lida experiencia en **programaci贸n (Python, C++, PLC)** y **dise帽o mec谩nico 3D (SolidWorks, CAD)**, lo que me permite desarrollar soluciones t茅cnicas integrales.",
                        "Mi formaci贸n acad茅mica incluye un **M谩ster en Mecatr贸nica (EU4M)** y un **M谩ster en Gesti贸n de Riesgos**, complementada con certificaciones como Auditor L铆der en ISO 9001, 45001 y 14001. Esta combinaci贸n me permite liderar proyectos t茅cnicos con una visi贸n rigurosa de calidad y seguridad.",
                        "Actualmente, busco oportunidades para aplicar mis habilidades en automatizaci贸n, sistemas inteligentes y gesti贸n de proyectos en un entorno global desafiante."
                    ]
                },
                journey: {
                    title: "Trayectoria Acad茅mica Global",
                    subtitle: "Formaci贸n internacional en instituciones de prestigio",
                    mapTitle: "Lugares de Estudio",
                    items: [
                        { 
                            id: 6, 
                            title: "Master Thesis Research", 
                            institution: "KIT (Karlsruhe Institute of Technology)", 
                            logoUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_KIT.svg/2560px-Logo_KIT.svg.png", 
                            webUrl: "https://www.kit.edu/",
                            location: "Karlsruhe, Alemania", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Investigaci贸n en una de las 100 mejores universidades del mundo (Top 100 Worldwide). Enfoque en sistemas micromecatr贸nicos avanzados.",
                            coords: { top: '22%', left: '50%' }
                        },
                        { 
                            id: 5, 
                            title: "MSc. Mecatr贸nica (EU4M)", 
                            institution: "Hochschule Karlsruhe (HKA)", 
                            logoUrl: "https://www.h-ka.de/fileadmin/Hochschule_Karlsruhe_HKA/Bilder_FK-MMT/IKKU/HKA_Logo_Gesamt-v-XL_RGB.png",
                            webUrl: "https://www.h-ka.de/",
                            location: "Karlsruhe, Alemania", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Tesis de Maestr铆a en Pernos con Sensores Integrados (Micromecatr贸nica).",
                            coords: { top: '23%', left: '49%' }
                        },
                        { 
                            id: 4, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "Nile University", 
                            logoUrl: "https://www.universitiesegypt.com/ImageHandler.ashx?Id=12749&SS=66653c2ed79506efaaa00f444dc8da47", 
                            webUrl: "https://nu.edu.eg/",
                            location: "Giza, Egipto", 
                            flag: "",
                            year: "2024", 
                            desc: "Programaci贸n avanzada de PLCs en FACT Centre (FESTO).",
                            coords: { top: '38%', left: '53%' }
                        },
                        { 
                            id: 3, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "Universidad de Oviedo", 
                            logoUrl: "https://www.uniovi.es/documents/39158/45652/Logo+Universidad+de+Oviedo.jpg/434cc26c-9dc5-d9af-cf45-a6df4e09685c?t=1677848763782",
                            webUrl: "https://www.uniovi.es/",
                            location: "Gij贸n, Espa帽a", 
                            flag: "",
                            year: "2023 - 2024", 
                            desc: "Rob贸tica antropom贸rfica, visi贸n artificial y control de sistemas complejos.",
                            coords: { top: '25%', left: '46%' }
                        },
                        { 
                            id: 2, 
                            title: "MSc. Gesti贸n de Riesgos", 
                            institution: "PUCE & UDLA", 
                            logoUrl: "https://puceinvestiga.puce.edu.ec/skin/headerImage/",
                            webUrl: "https://www.puce.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2021 - 2023", 
                            desc: "Especializaci贸n en Gesti贸n de Riesgos y Cadena de Suministro.",
                            coords: { top: '50%', left: '28%' }
                        },
                        { 
                            id: 1, 
                            title: "Ingenier铆a Mecatr贸nica", 
                            institution: "Universidad UTE", 
                            logoUrl: "https://ute.edu.ec/wp-content/uploads/2022/10/logo-ute-wp.png",
                            webUrl: "https://www.ute.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2012 - 2019", 
                            desc: "Base s贸lida en dise帽o mec谩nico, electr贸nica y control.",
                            coords: { top: '50%', left: '28%' }
                        },
                    ]
                },
                certifications: {
                    title: "Certificaciones & Diplomas",
                    items: [
                        { name: "Python for Data Science, AI & Development", issuer: "IBM", year: "Feb 2025", url: "#" },
                        { name: "PLC Programming Advanced Level", issuer: "FACT Centre", year: "Dec 2024", url: "#" },
                        { name: "Diploma in Purchasing and Procurement for Supply Chain Management", issuer: "Universidad de Las Am茅ricas (EC)", year: "Sep 2023", url: "#" },
                        { name: "ISO 14001: 2015 Environmental Management Systems Certified", issuer: "Corporaci贸n SEGINUS", year: "Apr 2022", url: "#" },
                        { name: "ISO 9001:2015 Lead Auditor & Head of Quality Management Systems", issuer: "INTEDYA", year: "Apr 2021", url: "#" },
                        { name: "Qualified Expert in Occupational Health and Safety", issuer: "Academia Faice", year: "Jan 2021", url: "#" },
                        { name: "Occupational Risk Prevention", issuer: "Academia FAICE", year: "Jan 2021", url: "#" },
                        { name: "ISO 9001:2015 Internal Auditor (Quality Management Systems)", issuer: "INTEDYA", year: "Jul 2020", url: "#" },
                        { name: "Cambridge English Entry Level Certificate (Preliminary)", issuer: "Cambridge English", year: "Nov 2017", url: "#" },
                        { name: "Certified Associate - Mechanical Design (CSWA)", issuer: "SolidWorks Authorized Training Centre", year: "Jan 2014", url: "#" }
                    ]
                },
                languagesTitle: "Idiomas",
                languages: [
                    { name: "Espa帽ol", level: "Nativo", percent: 100, flag: "" },
                    { name: "Ingl茅s", level: "C1 Avanzado", percent: 90, flag: "吼" },
                    { name: "Alem谩n", level: "A2 B谩sico", percent: 30, flag: "" }
                ],
                softwareLogos: SHARED_SOFTWARE_LOGOS,
                projects: {
                    title: "Proyectos Destacados",
                    subtitle: "Selecciona un proyecto para ver informaci贸n detallada y documentos",
                    btn_more: "Ver Detalles",
                    items: [
                        {
                            id: 0,
                            icon: "Award",
                            title: "Caracterizaci贸n y Calibraci贸n de Pernos con Sensores Integrados (Master Thesis)",                            
                            date: "03/2025 - 08/2025",
                            tech: "MATLAB, Signal Processing, Root Cause Analysis, Calibraci贸n, IPEK-KIT",
                            image: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Ingenier铆a y validaci贸n end-to-end de un sistema de calibraci贸n con compensaci贸n t茅rmica.",                            
                            fullDesc: "Ejecuci贸n integral de la ingenier铆a y validaci贸n de un sistema de calibraci贸n para pernos sensorizados en el instituto IPEK (KIT). Se realiz贸 un an谩lisis de causa ra铆z para identificar la deriva t茅rmica no lineal como riesgo cr铆tico. Dise帽茅 y program茅 una soluci贸n matem谩tica robusta para desacoplar las variables ambientales de la carga mec谩nica, asegurando la integridad de los datos para aplicaciones de Monitoreo de Salud Estructural (SHM).",                            
                            features: [
                                "Caracterizaci贸n t茅rmica no lineal (Hist茅resis)",
                                "Algoritmos de compensaci贸n de riesgos",
                                "Automatizaci贸n de an谩lisis en MATLAB",
                                "Validaci贸n experimental en bancos de ensayo"
                            ],
                            // APUNTA A CARPETA LOCAL: Master_Thesis_Bolts
                            files: [
                                { type: 'pdf', title: 'Presentaci贸n', url: './Projects/Master_Thesis/Presentation_Master_thesis_MA.pdf' }
                            ]
                        },
                        {
                            id: 1,
                            icon: "BrainCircuit",
                            title: "Sistema de Detecci贸n de Somnolencia y Respuesta de Emergencia",
                            date: "10/2024 - 12/2024",
                            tech: "Python (OpenCV, MediaPipe), Raspberry Pi & Arduino, Signal Processing, UART",
                            image: "https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Ingenier铆a de sistema embebido de seguridad cr铆tica (<1s latencia) con visi贸n artificial y visi贸n nocturna.",
                            fullDesc: "Ejecuci贸n integral del dise帽o y validaci贸n de un sistema de seguridad activa basado en visi贸n artificial. Desarroll茅 algoritmos de procesamiento de imagen en Raspberry Pi utilizando MediaPipe y OpenCV, aplicando interpolaci贸n 'Cubic Spline' para suavizar el ruido en la detecci贸n de landmarks faciales. Implement茅 una arquitectura de comunicaci贸n UART con Arduino para gestionar actuadores de respuesta cr铆tica, logrando un tiempo de respuesta total inferior a 1 segundo para cumplir con est谩ndares de seguridad vehicular.",
                            features: [
                                "Optimizaci贸n de latencia en tiempo real (<1s de respuesta total) [cite: 3668]",
                                "Visi贸n nocturna con IR para mitigaci贸n de riesgos en baja luz ",
                                "Algoritmos de interpolaci贸n c煤bica para limpieza de se帽al ",
                                "Sistema de alertas escalonadas (Visual, Auditiva, H谩ptica/Frenado) [cite: 3997]"
                            ],
                            // APUNTA A CARPETA LOCAL: Driver_Drowsiness_System
                            files: [
                                { type: 'image', title: 'Diagrama Flujo General', url: './Projects/Driver_Drowsiness_System/p1.jpg' },
                                { type: 'image', title: 'Diagrama Flujo Arduino', url: './Projects/Driver_Drowsiness_System/p2.jpg' },
                                { type: 'image', title: 'Ejemplo de detecci贸n', url: './Projects/Driver_Drowsiness_System/p3.jpg' },
                                { type: 'image', title: 'Diagrama Flujo Rhaspberry', url: './Projects/Driver_Drowsiness_System/p4.jpg' },
                                { type: 'image', title: 'Secuencia Arduino', url: './Projects/Driver_Drowsiness_System/p5.jpg' }

                            ]
                        },
                        {
                            id: 2,
                            icon: "Settings",
                            title: "Robot Antropom贸rfico 3-DOF: Jugador Aut贸nomo (Tic-Tac-Toe)",
                            date: "01/2024 - 06/2024",
                            tech: "MATLAB (Computer Vision Toolbox), Arduino, Serial Comms, Game Logic",
                            image: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Liderazgo en visi贸n artificial y l贸gica de juego para un oponente rob贸tico aut贸nomo.",
                            fullDesc: "Lider茅 el desarrollo de la arquitectura de software y visi贸n artificial para un manipulador rob贸tico interactivo capaz de jugar 'Tres en Raya'. Dise帽茅 el pipeline de visi贸n para digitalizar el estado del tablero f铆sico en tiempo real (segmentaci贸n de color/forma y extracci贸n de centroides). Desarroll茅 el motor l贸gico de decisi贸n del juego y orquest茅 el protocolo de comunicaci贸n Serial as铆ncrono entre la interfaz de alto nivel (MATLAB) y el controlador embebido, asegurando una ejecuci贸n cinem谩tica precisa.",
                            features: [
                                "Visi贸n Artificial: Algoritmos de segmentaci贸n y mapeo de coordenadas (C谩mara a Robot)",
                                "Motor de L贸gica de Juego: Implementaci贸n de algoritmos de decisi贸n aut贸noma",
                                "Orquestaci贸n de Hardware: Protocolo robusto MATLAB-Arduino v铆a Serial",
                                "Liderazgo T茅cnico: Integraci贸n completa de percepci贸n, decisi贸n y acci贸n"
                            ],
                            // APUNTA A CARPETA LOCAL: 3_DOF_Robot
                            files: [
                                { type: 'image', title: 'Prototipo ensamblado', url: './Projects/3_DOF_Robot/p1.jpg' },
                                { type: 'image', title: 'Dise帽o CAD', url: './Projects/3_DOF_Robot/p2.png' },
                                { type: 'image', title: 'Diagrama de comunicaciones', url: './Projects/3_DOF_Robot/p3.png' },
                                { type: 'image', title: 'Secuencia de Visi贸n Artificial', url: './Projects/3_DOF_Robot/p4.png' },
                                { type: 'image', title: 'Flujograma de Visi贸n Artificial', url: './Projects/3_DOF_Robot/p5.png' },
                                { type: 'image', title: 'Cinem谩tica del robot', url: './Projects/3_DOF_Robot/p6.png' },
                                { type: 'pdf', title: 'Control electr贸nico', url: './Projects/3_DOF_Robot/Electr_Arm_V1.1.pdf' }
                            ]
                        },
                        {
                            id: 8,
                            icon: "Scan",
                            title: "Base de Escaneo 3D Automatizada (Moai Study)",
                            date: "02/2024 - 04/2024",
                            tech: "SolidWorks, Python (Data Pipeline), Electronics, Point Cloud Processing",
                            image: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Liderazgo t茅cnico y gesti贸n de proyecto para sistema de digitalizaci贸n 3D automatizado.",
                            fullDesc: "Como Project Manager y L铆der T茅cnico, dirig铆 el ciclo de vida completo de esta plataforma mecatr贸nica. Dise帽茅 integralmente el hardware electr贸nico y desarroll茅 el pipeline de adquisici贸n de datos en Python, estableciendo un protocolo de comunicaci贸n robusto entre el dispositivo de captura (iPhone) y la estaci贸n de trabajo (PC) para la transmisi贸n automatizada de archivos. Ejecut茅 el post-procesamiento avanzado de nubes de puntos (registro, limpieza y mallado) para garantizar una reconstrucci贸n 3D de alta fidelidad.",
                            features: [
                                "Project Management y Liderazgo T茅cnico",
                                "Pipeline Python para adquisici贸n remota de datos (iPhone-PC)",
                                "Dise帽o e implementaci贸n de electr贸nica de control",
                                "Procesamiento de nubes de puntos y reconstrucci贸n de malla"
                            ],
                            // APUNTA A CARPETA LOCAL: Moai_Scanner
                            files: [
                                { type: 'image', title: 'Dise帽o CAD', url: './Projects/Moai_Scanner/Prototipado_E4.jpg' },
                                { type: 'video', title: 'Video Demo', url: './Projects/Moai_Scanner/vid1.MOV' }
                            ]
                        },
                        {
                            id: 3,
                            icon: "Cpu",
                            title: "Control de Trayectoria de Robot 4-DOF",
                            date: "03/2024 - 05/2024",
                            tech: "MATLAB, Robotics, Denavit-Hartenberg, Jacobian Analysis",
                            image: "https://images.unsplash.com/photo-1617529497471-9218633199c0?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Simulaci贸n de trayectorias lineales y an谩lisis de singularidades mediante cinem谩tica D-H.",
                            fullDesc: "Desarroll茅 el modelo matem谩tico y la simulaci贸n para un robot manipulador de 4 grados de libertad. Calcul茅 la cinem谩tica directa e inversa utilizando la convenci贸n de par谩metros Denavit-Hartenberg. Realic茅 el an谩lisis diferencial calculando la Matriz Jacobiana y su determinante para identificar y predecir configuraciones singulares. Program茅 la generaci贸n de trayectorias lineales punto a punto, discretizando el camino para validar los perfiles de posici贸n, velocidad y aceleraci贸n.",
                            features: [
                                "Modelado D-H y resoluci贸n de cinem谩tica inversa",
                                "Detecci贸n de singularidades (Matriz Jacobiana)",
                                "Generaci贸n y discretizaci贸n de trayectorias lineales",
                                "An谩lisis gr谩fico de perfiles cinem谩ticos (Pos/Vel/Ace)"
                            ],
                            // APUNTA A CARPETA LOCAL: 4_Axis_Robot
                            files: [
                                { type: 'pdf', title: 'Reporte', url: './Projects/4_Axis_Robot/InformeV01.pdf' }
                            ]
                        },
                        {
                            id: 4,
                            icon: "Award",
                            title: "Dispositivo de An谩lisis de Microestructuras (Patentado)",
                            date: "2019",
                            tech: "Patented, Mechatronics, HMI, Real-time Image Analysis",
                            image: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Dispositivo mecatr贸nico port谩til y patentado para an谩lisis de carbono en aceros.",
                            fullDesc: "Desarrollo integral de un dispositivo mecatr贸nico port谩til dise帽ado para el an谩lisis in-situ de microestructuras de carbono en 24 tipos de materiales ferrosos (acero y hierro fundido). El sistema utiliza t茅cnicas de superposici贸n de im谩genes en tiempo real para el an谩lisis comparativo. La novedad tecnol贸gica del dispositivo fue validada mediante b煤squedas en la OMPI (WIPO) y la OEP (EPO), obteniendo el registro de patente (SENADI-2019-43416).",
                            features: [
                                "Interfaz intuitiva de pantalla t谩ctil (HMI)",
                                "Portabilidad optimizada para trabajo de campo",
                                "An谩lisis comparativo de im谩genes en tiempo real",
                                "Validaci贸n experimental con 24 tipos de materiales ferrosos"
                            ],
                            // APUNTA A CARPETA LOCAL: Microstructure_Analysis
                            files: [
                                { type: 'pdf', title: 'Patente', url: './Projects/Microstructure_Analysis/Patente_MA.pdf' },
                                { type: 'image', title: 'Vista superior', url: './Projects/Microstructure_Analysis/Ensamblaje general DEFINITIVO.png' },
                                { type: 'video', title: 'Presentaci贸n del Dispositivo', url: './Projects/Microstructure_Analysis/Ensamblaje general DEFINITIVO.avi' },
                                { type: 'video', title: 'Prototipo funcionanco', url: './Projects/Microstructure_Analysis/Equipo_Funcionando.mov' }
                            ]
                        },
                        {
                            id: 5,
                            icon: "Factory",
                            title: "Dise帽o de Planta de Ensamblaje y Seguridad Industrial",
                            date: "08/2021 - 11/2021",
                            tech: "Industrial Design, Project Management, EHS (Safety), Lean Logistics",
                            image: "https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Liderazgo en dise帽o de planta, implementaci贸n log铆stica y plan de seguridad integral.",
                            fullDesc: "Como Project Manager y Dise帽ador Principal, lider茅 el dise帽o integral y la implementaci贸n f铆sica de una planta de ensamblaje de motocicletas. El alcance abarc贸 todo el flujo operativo: recepci贸n de materia prima, l铆neas de fabricaci贸n, almacenamiento de producto terminado y 谩rea de repuestos. Adem谩s, ejecut茅 la ingenier铆a de seguridad completa para cumplimiento normativo (Bomberos): elaboraci贸n de diagramas de evacuaci贸n, distribuci贸n de sistemas contra incendios (extintores/rociadores), an谩lisis de puntos calientes y mapas de riesgos.",
                            features: [
                                "Dise帽o de Layout End-to-End (Materia Prima a Producto Final + Repuestos)",
                                "Ingenier铆a de Seguridad (Planos de evacuaci贸n y Sistemas contra incendios)",
                                "An谩lisis de Riesgos y Puntos Calientes",
                                "Liderazgo en la implementaci贸n y optimizaci贸n de flujo"
                            ],
                            // APUNTA A CARPETA LOCAL: Assembly_Plant_Layout
                            files: [
                                { type: 'pdf', title: 'Plano Layout 1', url: './Projects/Assembly_Plant_Layout/p1_YARUQUI_PRUD_DESPACHOS.pdf' },
                                { type: 'pdf', title: 'Plano Layout 2', url: './Projects/Assembly_Plant_Layout/p2_YARUQUI_REPUESTOS.pdf' },
                                { type: 'image', title: 'Layout implementado', url: './Projects/Assembly_Plant_Layout/p3.jpg' },
                                { type: 'image', title: 'Layout implementado', url: './Projects/Assembly_Plant_Layout/p4.HEIC' }

                            ]
                        },
                        {
                            id: 6,
                            icon: "Code",
                            title: "Sistemas de Desinfecci贸n UVC Automatizados (Investigaci贸n SARS-CoV-2)",
                            date: "06/2020 - 08/2020",
                            tech: "UVC Technology (254nm), Safety Engineering, Wireless Control, IoT",
                            image: "https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Dise帽o de sistemas de esterilizaci贸n cl铆nica con seguridad redundante y dosimetr铆a germicida.",
                            fullDesc: "Lider茅 la investigaci贸n y desarrollo de sistemas de irradiaci贸n germicida ultravioleta (UVGI) enfocados en la inactivaci贸n del SARS-CoV-2. Realic茅 c谩lculos de dosimetr铆a para garantizar la dosis energ茅tica necesaria en entornos cl铆nicos (quir贸fanos, consultorios). Dise帽茅 unidades m贸viles y fijas con una arquitectura de seguridad redundante: integraci贸n de sensores de movimiento (PIR) para parada de emergencia autom谩tica, temporizadores y control inal谩mbrico de largo alcance, garantizando una operaci贸n con cero exposici贸n humana.",
                            features: [
                                "Estudio de eficacia germicida (Dosimetr铆a SARS-CoV-2)",
                                "Seguridad redundante (Sensores de presencia + Parada de emergencia)",
                                "Dise帽o mecatr贸nico de emisores m贸viles y fijos",
                                "Control inal谩mbrico para operaci贸n segura en zonas cr铆ticas"
                            ],
                            // APUNTA A CARPETA LOCAL: UVC_Automation
                            files: [
                                { type: 'pdf', title: 'Presentaci贸n UVC', url: './Projects/UVC_Automation/Presentacion UVC.pdf' },
                                { type: 'image', title: 'Implementaci贸n UVC', url: './Projects/UVC_Automation/p1.jpg' },
                                { type: 'image', title: 'Implementaci贸n UVC ', url: './Projects/UVC_Automation/p2.jpg' },
                                { type: 'image', title: 'Implementaci贸n UVC ', url: './Projects/UVC_Automation/p3.jpg' },
                                { type: 'image', title: 'Implementaci贸n UVC ', url: './Projects/UVC_Automation/p4.jpg' },
                                { type: 'image', title: 'Implementaci贸n UVC ', url: './Projects/UVC_Automation/p5.jpg' },
                                { type: 'image', title: 'Implementaci贸n UVC ', url: './Projects/UVC_Automation/p6.jpg' },
                                { type: 'image', title: 'Implementaci贸n UVC ', url: './Projects/UVC_Automation/p7.jpeg' }
                            ]
                        },
                        {
                            id: 7,
                            icon: "Settings",
                            title: "Puesta en Marcha y Control de Extrusora de Alta Velocidad",
                            date: "02/2017 - 05/2017",
                            tech: "PLC Automation, DC Drives (Independent Excitation), Sensor Calibration",
                            image: "https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Implementaci贸n integral del sistema el茅ctrico y control autom谩tico para motores DC.",
                            fullDesc: "Ejecuci贸n de la ingenier铆a el茅ctrica y de control para una l铆nea de extrusi贸n de cable de cobre. Desarroll茅 la integraci贸n completa del armario el茅ctrico y el sistema de automatizaci贸n, incluyendo la programaci贸n del PLC y la calibraci贸n fina de sensores. Implement茅 el control de potencia para motores DC de excitaci贸n independiente mediante variadores espec铆ficos, asegurando la sincronizaci贸n precisa entre la extrusora, el almacenamiento (pulm贸n) y el bobinado autom谩tico.",
                            features: [
                                "Control de Motores DC de Excitaci贸n Independiente",
                                "Integraci贸n el茅ctrica y programaci贸n de PLC",
                                "Calibraci贸n de instrumentaci贸n y sensores",
                                "Sincronizaci贸n de lazos de control (Extrusi贸n-Bobinado)"
                            ],
                            // APUNTA A CARPETA LOCAL: Cable_Extruder
                            files: [
                                { type: 'image', title: 'Extrusora', url: './Projects/Cable_Extruder/p1.jpg' },
                                { type: 'image', title: 'Extrusora', url: './Projects/Cable_Extruder/p2.jpg' },
                                { type: 'video', title: 'Extrusora', url: './Projects/Cable_Extruder/p3.MP4' }
                            ]
                        }
                    ]
                },
                experience: {
                    title: "Experiencia Profesional",
                    items: [
                        {
                            role: "Jefe de Sistemas Integrados de Gesti贸n (HSEQ) & Auditor L铆der",
                            company: "Unnomotors S.A.",
                            webUrl: "https://motor1.ec/",
                            logoUrl: "https://media.licdn.com/dms/image/v2/D4E0BAQFjzn0xdhaLMA/company-logo_200_200/company-logo_200_200/0/1689611759634/unnomotors_logo?e=2147483647&v=beta&t=RyrdSnIchLwqXQ8-azV34ryRAJI1EKgbD4VA_YqLmqs",
                            period: "07/2019 - 08/2023",
                            location: "Quito, Ecuador",
                            desc: "Lider茅 la gesti贸n de Calidad, Seguridad y Medio Ambiente. Coordin茅 la gesti贸n de riesgos y optimizaci贸n de flujos de trabajo como Auditor L铆der.",
                            achievements: [
                                "Aseguramiento del cumplimiento normativo ISO 9001, 45001, 14001",
                                "Mejora de procesos operativos y Project Management",
                                "Gesti贸n de matriz de riesgos corporativos",
                                "Liderazgo de equipos multidisciplinarios"
                            ]
                        },
                        {
                            role: "Ingeniero de Investigaci贸n",
                            company: "BioSicurezza EC",
                            period: "05/2020 - 12/2020",
                            location: "Quito, Ecuador",
                            desc: "Dise帽o de robots inal谩mbricos para saneamiento remoto y sistemas de control automatizado para activaci贸n UVC.",
                            achievements: [
                                "Desarrollo de robots m贸viles con c谩maras",
                                "Automatizaci贸n de ciclos de desinfecci贸n",
                                "Dise帽o de sistemas de seguridad para radiaci贸n UVC"
                            ]
                        },
                        {
                            role: "L铆der de Equipo, Procesos Industriales",
                            company: "Metaltronic S.A.",
                            webUrl: "https://www.metaltronicgroup.com/",
                            logoUrl: "https://www.metaltronicgroup.com/assets/img/metaltronic_groupactual.png",
                            period: "07/2017 - 07/2019",
                            location: "Quito, Ecuador",
                            desc: "Optimizaci贸n de procesos de producci贸n mediante an谩lisis de datos y planificaci贸n eficiente.",
                            achievements: [
                                "Estandarizaci贸n de procesos",
                                "An谩lisis de datos de producci贸n",
                                "Alineaci贸n con especificaciones t茅cnicas"
                            ]
                        },
                        {
                            role: "Asistente T茅cnico de Mantenimiento (Pasant铆a)",
                            company: "Conelsa S.A.",
                            webUrl: "https://conelsa.com.ec/",
                            logoUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTR-YkvDL6FjzSBvr72zx6DOVeKwSAHT6xf4w&s",
                            period: "11/2016 - 06/2017",
                            location: "Quito, Ecuador",
                            desc: "Gesti贸n de proyectos de mantenimiento y coordinaci贸n de ejecuci贸n t茅cnica.",
                            achievements: [
                                "Control de cronogramas de mantenimiento",
                                "Asignaci贸n de recursos",
                                "Mitigaci贸n de riesgos de inactividad"
                            ]
                        }
                    ]
                },
                skills: {
                    title: "Habilidades T茅cnicas",
                    categories: [
                        { name: "Gesti贸n de Proyectos", items: ["Microsoft Project", "Primavera P6", "SCRUM / KANBAN", "Gesti贸n de Riesgos", "ISO 9001, 45001, 14001, 19011"] },
                        { name: "Programaci贸n", items: ["C/C++", "Python", "MATLAB", "Arduino", "PLC (LAD-FBD)"] },
                        { name: "Dise帽o & Simulaci贸n", items: ["SolidWorks", "AutoCAD", "Ansys", "Abaqus", "Proteus", "LabView", "FluidSim"] },
                        { name: "Software de C谩lculo", items: ["Matlab", "Simulink", "Simscape", "LabView"] },
                    ]
                },
                contact: {
                    title: "Contacto",
                    text: "驴Interesado en colaborar? Estoy disponible para nuevas oportunidades.",
                    phone: "Tel茅fono / WhatsApp",
                    email: "Correo",
                    location: "Ubicaci贸n Actual"
                }
            },
            en: {
                nav: {
                    aboutMe: "About Me", 
                    journey: "Journey",
                    projects: "Projects",
                    experience: "Experience",
                    contact: "Contact"
                },
                hero: {
                    role: "M.Sc. in Mechatronics Engineering & Risk Management Expert",
                    subrole: "MSc. Mechatronics (EU4M) | Project Manager | MSc. Risk Management",
                    desc: "Mechatronics Engineer specialized in industrial automation, PLC programming, and 3D design, complemented by project management and risk (HSEQ) skills. Global perspective gained in Ecuador, Spain, Egypt, and Germany. Certified Lead Auditor in management systems..",
                    btn_contact: "Contact Me"
                },
                aboutMe: {
                    title: "About Me",
                    photoUrl: "./profile.jpg",
                    bio: [
                        "I am a Mechatronics Engineer passionate about the intersection of advanced robotics and strategic process management. I possess strong skills in **programming (Python, C++, PLC)** and **3D mechanical design (SolidWorks, CAD)**, enabling me to develop comprehensive technical solutions.",
                        "My academic background includes an **MSc in Mechatronics (EU4M)** and an **MSc in Risk Management**, complemented by Lead Auditor certifications in ISO 9001, 45001, and 14001. This combination allows me to lead technical projects with a rigorous focus on quality and safety.",
                        "Currently, I am seeking opportunities to apply my skills in automation, intelligent systems, and project management in a challenging global environment."
                    ]
                },
                journey: {
                    title: "Global Academic Journey",
                    subtitle: "International training at prestigious institutions",
                    mapTitle: "Study Locations", 
                    items: [
                        { 
                            id: 6, // New KIT Item
                            title: "Master Thesis Research", 
                            institution: "KIT (Karlsruhe Institute of Technology)", 
                            logoUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_KIT.svg/2560px-Logo_KIT.svg.png",
                            webUrl: "https://www.kit.edu/",
                            location: "Karlsruhe, Germany", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Research at one of the Top 100 Universities worldwide. Focus on advanced micromechatronic systems.",
                            coords: { top: '22%', left: '50%' } 
                        },
                        { 
                            id: 5, 
                            title: "MSc. Mechatronics (EU4M)", 
                            institution: "Hochschule Karlsruhe (HKA)", 
                            logoUrl: "https://www.h-ka.de/fileadmin/Hochschule_Karlsruhe_HKA/Bilder_FK-MMT/IKKU/HKA_Logo_Gesamt-v-XL_RGB.png",
                            webUrl: "https://www.h-ka.de/",
                            location: "Karlsruhe, Germany", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Master's Thesis on Sensor-integrating Bolts (Micromechatronics). Cutting-edge research in intelligent fastening systems.",
                            coords: { top: '23%', left: '49%' }
                        },
                        { 
                            id: 4, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "Nile University", 
                            logoUrl: "https://www.universitiesegypt.com/ImageHandler.ashx?Id=12749&SS=66653c2ed79506efaaa00f444dc8da47", 
                            webUrl: "https://nu.edu.eg/",
                            location: "Giza, Egypt", 
                            flag: "",
                            year: "2024", 
                            desc: "Advanced PLC Programming at FACT Centre (FESTO). Immersion in applied industrial automation.",
                            coords: { top: '38%', left: '53%' }
                        },
                        { 
                            id: 3, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "University of Oviedo", 
                            logoUrl: "https://www.uniovi.es/documents/39158/45652/Logo+Universidad+de+Oviedo.jpg/434cc26c-9dc5-d9af-cf45-a6df4e09685c?t=1677848763782",
                            webUrl: "https://www.uniovi.es/",
                            location: "Gij贸n, Spain", 
                            flag: "",
                            year: "2023 - 2024", 
                            desc: "Anthropomorphic robotics, artificial vision, and complex system control. Start of the EU4M joint master.",
                            coords: { top: '25%', left: '46%' }
                        },
                        { 
                            id: 2, 
                            title: "MSc. Risk Management & Diploma", 
                            institution: "PUCE & UDLA", 
                            logoUrl: "https://puceinvestiga.puce.edu.ec/skin/headerImage/",
                            webUrl: "https://www.puce.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2021 - 2023", 
                            desc: "Specialization in Risk Management and Supply Chain. Focus on industrial process optimization and safety.",
                            coords: { top: '50%', left: '28%' }
                        },
                        { 
                            id: 1, 
                            title: "Mechatronics Engineering", 
                            institution: "Universidad UTE", 
                            logoUrl: "https://ute.edu.ec/wp-content/uploads/2022/10/logo-ute-wp.png",
                            webUrl: "https://www.ute.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2012 - 2019", 
                            desc: "Solid foundation in mechanical design, electronics, and control. Development of fundamental engineering projects.",
                            coords: { top: '50%', left: '28%' }
                        },
                    ]
                },
                certifications: {
                    title: "Certifications, Auditing & Diplomas",
                    items: [
                        { name: "Python for Data Science, AI & Development", issuer: "IBM", year: "Feb 2025", url: "#" },
                        { name: "PLC Programming Advanced Level", issuer: "FACT Centre", year: "Dec 2024", url: "#" },
                        { name: "Diploma in Purchasing and Procurement for Supply Chain Management", issuer: "Universidad de Las Am茅ricas (EC)", year: "Sep 2023", url: "#" },
                        { name: "ISO 14001: 2015 Environmental Management Systems Certified", issuer: "Corporaci贸n SEGINUS", year: "Apr 2022", url: "#" },
                        { name: "ISO 9001:2015 Lead Auditor & Head of Quality Management Systems", issuer: "INTEDYA", year: "Apr 2021", url: "#" },
                        { name: "Qualified Expert in Occupational Health and Safety", issuer: "Academia FAICE", year: "Jan 2021", url: "#" },
                        { name: "Occupational Risk Prevention", issuer: "Academia FAICE", year: "Jan 2021", url: "#" },
                        { name: "ISO 9001:2015 Internal Auditor (Quality Management Systems)", issuer: "INTEDYA", year: "Jul 2020", url: "#" },
                        { name: "Cambridge English Entry Level Certificate (Preliminary)", issuer: "Cambridge English", year: "Nov 2017", url: "#" },
                        { name: "Certified Associate - Mechanical Design (CSWA)", issuer: "SolidWorks Authorized Training Centre", year: "Jan 2014", url: "#" }
                    ]
                },
                languagesTitle: "Languages", 
                languages: [
                    { name: "Spanish", level: "Native", percent: 100, flag: "" },
                    { name: "English", level: "C1 Advanced", percent: 90, flag: "吼" },
                    { name: "German", level: "A2 Basic", percent: 30, flag: "" }
                ],
                softwareLogos: SHARED_SOFTWARE_LOGOS,
                projects: {
                    title: "Featured Projects",
                    subtitle: "Select a project to view detailed information and documents",
                    btn_more: "View Details",
                    items: [
                        {
                            id: 0,
                            icon: "Award",
                            title: "Characterization & Calibration of Sensor-Integrating Bolts (Master Thesis)",
                            date: "03/2025 - 08/2025",
                            tech: "MATLAB, Signal Processing, Root Cause Analysis, Calibration, IPEK-KIT",
                            image: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "End-to-end engineering and validation of a calibration system with thermal compensation.",                            
                            fullDesc: "Executed the end-to-end engineering and validation of a calibration system for sensor-integrated bolts at IPEK (KIT). Addressed root cause analysis for measurement deviations, identifying non-linear thermal drift as a critical risk. Engineered and coded a robust mathematical solution to decouple environmental variables from mechanical load, ensuring data integrity for Structural Health Monitoring (SHM).",                            
                            features: [
                                "Non-linear thermal characterization (Hysteresis)",
                                "Risk compensation algorithms",
                                "MATLAB analysis automation",
                                "Experimental validation on test benches"
                            ],
                            // APUNTA A CARPETA LOCAL: Master_Thesis_Bolts
                            files: [
                                { type: 'pdf', title: 'Presentation', url: './Projects/Master_Thesis/Presentation_Master_thesis_MA.pdf' }
                            ]
                        },
                        {
                            id: 1,
                            icon: "BrainCircuit",
                            title: "Driver Drowsiness Detection & Emergency Response System",
                            date: "10/2024 - 12/2024",
                            tech: "Python (OpenCV, MediaPipe), Raspberry Pi & Arduino, Signal Processing, UART",
                            image: "https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Engineered a safety-critical embedded system (<1s latency) featuring computer vision and IR night vision.",
                            fullDesc: "Executed the end-to-end engineering of an active safety system based on computer vision. I developed image processing algorithms on Raspberry Pi using MediaPipe and OpenCV, implementing Cubic Spline interpolation to smooth noise in facial landmark detection. Designed the UART communication architecture with Arduino to control critical response actuators, achieving a total system response time of under 1 second to meet vehicle safety standards.",
                            features: [
                                "Real-time latency optimization (<1s total response) [cite: 3668]",
                                "IR Night Vision integration for low-light risk mitigation ",
                                "Cubic Spline interpolation algorithms for signal smoothing ",
                                "Multi-modal escalation logic (Visual, Audio, Haptic/Braking) [cite: 3997]"
                            ],
                            // APUNTA A CARPETA LOCAL: Driver_Drowsiness_System
                            files: [
                                { type: 'image', title: 'General Flowchart', url: './Projects/Driver_Drowsiness_System/p1.jpg' },
                                { type: 'image', title: 'Arduino Flowchart', url: './Projects/Driver_Drowsiness_System/p2.jpg' },
                                { type: 'image', title: 'Detection Example', url: './Projects/Driver_Drowsiness_System/p3.jpg' },
                                { type: 'image', title: 'Raspberry Flowchart', url: './Projects/Driver_Drowsiness_System/p4.jpg' },
                                { type: 'image', title: 'Arduino Sequence', url: './Projects/Driver_Drowsiness_System/p5.jpg' }
                            ]
                        },
                        {
                            id: 2,
                            icon: "Settings",
                            title: "3-DOF Anthropomorphic Robot: Autonomous Player (Tic-Tac-Toe)",
                            date: "01/2024 - 06/2024",
                            tech: "MATLAB (Computer Vision Toolbox), Arduino, Serial Comms, Game Logic",
                            image: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Led Computer Vision and game logic architecture for an autonomous robotic opponent.",
                            fullDesc: "Led the software architecture and computer vision development for an interactive robotic manipulator playing 'Tic-Tac-Toe'. Engineered the image processing pipeline to digitize the physical board state in real-time (color/shape segmentation and centroid extraction). Designed the game decision logic engine and orchestrated the asynchronous Serial communication protocol between the high-level interface (MATLAB) and the embedded controller, ensuring precise kinematic execution.",
                            features: [
                                "Computer Vision: Segmentation algorithms & Coordinate mapping (Camera-to-Robot)",
                                "Game Logic Engine: Implementation of autonomous decision-making algorithms",
                                "Hardware Orchestration: Robust MATLAB-Arduino Serial protocol",
                                "Technical Leadership: Full integration of perception, decision, and action pipelines"
                            ],
                            // APUNTA A CARPETA LOCAL: 3_DOF_Robot
                            files: [
                                { type: 'image', title: 'Assembled Prototype', url: './Projects/3_DOF_Robot/p1.jpg' },
                                { type: 'image', title: 'CAD Design', url: './Projects/3_DOF_Robot/p2.png' },
                                { type: 'image', title: 'Communication Diagram', url: './Projects/3_DOF_Robot/p3.png' },
                                { type: 'image', title: 'Computer Vision Sequence', url: './Projects/3_DOF_Robot/p4.png' },
                                { type: 'image', title: 'Computer Vision Flowchart', url: './Projects/3_DOF_Robot/p5.png' },
                                { type: 'image', title: 'Robot Kinematics', url: './Projects/3_DOF_Robot/p6.png' },
                                { type: 'pdf', title: 'Electronic Control', url: './Projects/3_DOF_Robot/Electr_Arm_V1.1.pdf' }
                            ]
                        },
                        {
                            id: 8,
                            icon: "Scan",
                            title: "Automatic 3D Scanning Base (Moai Study)",
                            date: "02/2024 - 04/2024",
                            tech: "SolidWorks, Python (Data Pipeline), Electronics, Point Cloud Processing",
                            image: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Technical leadership and PM for an automated 3D digitization mechatronic system.",
                            fullDesc: "As Project Manager and Technical Lead, I directed the full project lifecycle of this mechatronic platform. I engineered the electronic control hardware and developed the Python data acquisition pipeline, establishing a robust communication protocol between the capture device (iPhone) and the workstation (PC) for automated file transfer. I executed advanced point cloud post-processing (registration, cleaning, and meshing) to ensure high-fidelity 3D model reconstruction.",
                            features: [
                                "Project Management & Technical Leadership",
                                "Python pipeline for remote data acquisition (iPhone-PC)",
                                "Electronic control hardware design & implementation",
                                "Point cloud processing & Mesh reconstruction"
                            ],
                            // APUNTA A CARPETA LOCAL: Moai_Scanner
                            files: [
                                { type: 'image', title: 'CAD Design', url: './Projects/Moai_Scanner/Prototipado_E4.jpg' },
                                { type: 'video', title: 'Demo Video', url: './Projects/Moai_Scanner/vid1.MOV' }
                            ]
                        },
                        {
                            id: 3,
                            icon: "Cpu",
                            title: "4-Axis Robot Trajectory Control",
                            date: "03/2024 - 05/2024",
                            tech: "MATLAB, Robotics, Denavit-Hartenberg, Jacobian Analysis",
                            image: "https://images.unsplash.com/photo-1617529497471-9218633199c0?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Linear trajectory simulation and singularity analysis using D-H kinematics.",
                            fullDesc: "Developed the mathematical model and simulation for a 4-degree-of-freedom robotic manipulator. I calculated forward and inverse kinematics using the Denavit-Hartenberg parameter convention. Conducted differential analysis by calculating the Jacobian Matrix and its determinant to identify and predict singular configurations. Programmed linear point-to-point trajectory generation, discretizing the path to validate position, velocity, and acceleration profiles.",
                            features: [
                                "D-H Modeling & Inverse Kinematics resolution",
                                "Singularity detection (Jacobian Matrix)",
                                "Linear trajectory generation & discretization",
                                "Kinematic profile analysis (Pos/Vel/Acc)"
                            ],
                            // APUNTA A CARPETA LOCAL: 4_Axis_Robot
                            files: [
                                { type: 'pdf', title: 'Report', url: './Projects/4_Axis_Robot/InformeV01.pdf' }
                            ]
                        },
                        {
                            id: 4,
                            icon: "Award",
                            title: "Microstructure Analysis Device (Patented)",
                            date: "2019",
                            tech: "Patented, Mechatronics, HMI, Real-time Image Analysis",
                            image: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Portable patented mechatronic device for carbon analysis in steels.",
                            fullDesc: "Comprehensive development of a portable mechatronic device designed for in-situ analysis of carbon microstructures across 24 types of ferrous materials (steel and cast iron). The system employs real-time image overlay techniques for comparative analysis. The device's technological novelty was confirmed through WIPO and EPO searches, achieving patent registration (SENADI-2019-43416).",
                            features: [
                                "Intuitive touch-screen interface (HMI)",
                                "Optimized portability for field work",
                                "Real-time comparative image analysis",
                                "Experimental validation with 24 types of ferrous materials"
                            ],
                            // APUNTA A CARPETA LOCAL: Microstructure_Analysis
                            files: [
                                { type: 'pdf', title: 'Patent', url: './Projects/Microstructure_Analysis/Patente_MA.pdf' },
                                { type: 'image', title: 'Top View', url: './Projects/Microstructure_Analysis/Ensamblaje general DEFINITIVO.png' },
                                { type: 'video', title: 'Device Presentation', url: './Projects/Microstructure_Analysis/Ensamblaje general DEFINITIVO.avi' },
                                { type: 'video', title: 'Working Prototype', url: './Projects/Microstructure_Analysis/Equipo_Funcionando.mov' }
                            ]
                        },
                        {
                            id: 5,
                            icon: "Factory",
                            title: "Assembly Plant Layout & Industrial Safety Design",
                            date: "08/2021 - 11/2021",
                            tech: "Industrial Design, Project Management, EHS (Safety), Lean Logistics",
                            image: "https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Plant layout leadership, logistics implementation, and comprehensive safety planning.",
                            fullDesc: "As Project Manager and Lead Designer, I spearheaded the comprehensive design and physical implementation of a motorcycle assembly plant. The scope covered the entire operational workflow: raw material reception, manufacturing lines, finished goods storage, and spare parts area. Additionally, I executed the complete safety engineering for regulatory compliance (Fire Dept): creation of evacuation diagrams, fire suppression system layout (extinguishers/sprinklers), hot spot analysis, and risk mapping.",
                            features: [
                                "End-to-End Layout Design (Raw Materials to Finished Goods + Spare Parts)",
                                "Safety Engineering (Evacuation plans & Fire suppression systems)",
                                "Risk Assessment & Hot Spot Analysis",
                                "Implementation Leadership & Workflow Optimization"
                            ],
                            // APUNTA A CARPETA LOCAL: Assembly_Plant_Layout
                            files: [
                                { type: 'pdf', title: 'Layout Plan 1', url: './Projects/Assembly_Plant_Layout/p1_YARUQUI_PRUD_DESPACHOS.pdf' },
                                { type: 'pdf', title: 'Layout Plan 2', url: './Projects/Assembly_Plant_Layout/p2_YARUQUI_REPUESTOS.pdf' },
                                { type: 'image', title: 'Implemented Layout', url: './Projects/Assembly_Plant_Layout/p3.jpg' },
                                { type: 'image', title: 'Implemented Layout', url: './Projects/Assembly_Plant_Layout/p4.HEIC' }

                            ]
                        },
                        {
                            id: 6,
                            icon: "Code",
                            title: "Automated UVC Disinfection Systems (SARS-CoV-2 Research)",
                            date: "06/2020 - 08/2020",
                            tech: "UVC Technology (254nm), Safety Engineering, Wireless Control, IoT",
                            image: "https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Engineering of clinical sterilization systems with redundant safety and germicidal dosimetry.",
                            fullDesc: "Led the research and development of Ultraviolet Germicidal Irradiation (UVGI) systems focused on SARS-CoV-2 inactivation. Conducted dosimetry calculations to ensure required energy doses for clinical environments (operating rooms, medical offices). Engineered mobile and fixed units featuring a redundant safety architecture: integration of motion sensors (PIR) for automatic emergency cutoff, timers, and long-range wireless control, ensuring zero-exposure operation for personnel.",
                            features: [
                                "Germicidal efficacy research (SARS-CoV-2 Dosimetry)",
                                "Redundant safety architecture (Presence Sensors + E-Stop)",
                                "Mechatronic design of mobile and fixed emitters",
                                "Wireless control for safe operation in critical zones"
                            ],
                            // APUNTA A CARPETA LOCAL: UVC_Automation
                            files: [
                                { type: 'pdf', title: 'UVC Presentation', url: './Projects/UVC_Automation/Presentacion UVC.pdf' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p1.jpg' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p2.jpg' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p3.jpg' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p4.jpg' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p5.jpg' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p6.jpg' },
                                { type: 'image', title: 'UVC implementation', url: './Projects/UVC_Automation/p7.jpeg' }
                            ]
                        },
                        {
                            id: 7,
                            icon: "Settings",
                            title: "High-Speed Extruder Control & Commissioning",
                            date: "02/2017 - 05/2017",
                            tech: "PLC Automation, DC Drives (Separately Excited), Sensor Calibration",
                            image: "https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Comprehensive electrical implementation and automatic control for DC motor systems.",
                            fullDesc: "Executed the electrical and control engineering for a copper cable extrusion line. I developed the full integration of the electrical cabinet and automation system, including PLC programming and fine sensor calibration. Implemented power control for separately excited DC motors using dedicated drives, ensuring precise synchronization between the extruder, the accumulator (storage), and the automatic winding system.",
                            features: [
                                "Separately Excited DC Motor Control",
                                "Electrical integration & PLC Programming",
                                "Instrumentation & Sensor Calibration",
                                "Control loop synchronization (Extrusion-Winding)"
                            ],
                            // APUNTA A CARPETA LOCAL: Cable_Extruder
                            files: [
                                { type: 'image', title: 'Extruder', url: './Projects/Cable_Extruder/p1.jpg' },
                                { type: 'image', title: 'Extruder', url: './Projects/Cable_Extruder/p2.jpg' },
                                { type: 'video', title: 'Extruder', url: './Projects/Cable_Extruder/p3.MP4' }
                            ]
                        }
                    ]
                },
                experience: {
                    title: "Professional Experience",
                    items: [
                        {
                            role: "Head of Integrated Management Systems (HSEQ) & Lead Auditor",
                            company: "Unnomotors S.A.",
                            webUrl: "https://motor1.ec/",
                            logoUrl: "https://media.licdn.com/dms/image/v2/D4E0BAQFjzn0xdhaLMA/company-logo_200_200/company-logo_200_200/0/1689611759634/unnomotors_logo?e=2147483647&v=beta&t=RyrdSnIchLwqXQ8-azV34ryRAJI1EKgbD4VA_YqLmqs",
                            period: "07/2019 - 08/2023",
                            location: "Quito, Ecuador",
                            desc: "Led Quality, Safety, and Environmental management. Coordinated risk management and workflow optimization as Lead Auditor.",
                            achievements: [
                                "Regulatory compliance assurance (ISO 9001, 45001, 14001)",
                                "Operational process improvement & Project Management",
                                "Corporate risk matrix management",
                                "Multidisciplinary team leadership"
                            ]
                        },
                        {
                            role: "Research Engineer",
                            company: "BioSicurezza EC",
                            period: "05/2020 - 12/2020",
                            location: "Quito, Ecuador",
                            desc: "Designed wireless robots for remote sanitation and automated control systems for UVC activation.",
                            achievements: [
                                "Mobile robot development with cameras",
                                "Disinfection cycle automation",
                                "UVC radiation safety system design"
                            ]
                        },
                        {
                            role: "Team Leader, Industrial Processes",
                            company: "Metaltronic S.A.",
                            webUrl: "https://www.metaltronicgroup.com/",
                            logoUrl: "https://www.metaltronicgroup.com/assets/img/metaltronic_groupactual.png",
                            period: "07/2017 - 07/2019",
                            location: "Quito, Ecuador",
                            desc: "Optimized production processes through data analysis and efficient planning.",
                            achievements: [
                                "Process standardization",
                                "Production data analysis",
                                "Alignment with technical specifications"
                            ]
                        },
                        {
                            role: "Maintenance Technical Assistant (Internship)",
                            company: "Conelsa S.A.",
                            webUrl: "https://conelsa.com.ec/",
                            logoUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTR-YkvDL6FjzSBvr72zx6DOVeKwSAHT6xf4w&s",
                            period: "11/2016 - 06/2017",
                            location: "Quito, Ecuador",
                            desc: "Managed maintenance projects and coordinated technical execution.",
                            achievements: [
                                "Maintenance schedule control",
                                "Resource allocation",
                                "Downtime risk mitigation"
                            ]
                        }
                    ]
                },
                skills: {
                    title: "Technical Skills",
                    categories: [
                        { name: "Project Management", items: ["Microsoft Project", "Primavera P6", "SCRUM / KANBAN", "Risk Management", "ISO 9001, 45001, 14001, 19011"] },
                        { name: "Programming", items: ["C/C++", "Python", "MATLAB", "Arduino", "PLC (LAD-FBD)"] },
                        { name: "Design & Simulation", items: ["SolidWorks", "AutoCAD", "Ansys", "Abaqus", "Proteus", "LabView", "FluidSim"] },
                        { name: "Calculation Software", items: ["Matlab", "Simulink", "Simscape", "LabView"] },
                    ]
                },
                contact: {
                    title: "Contact",
                    text: "Interested in collaborating? I am available for new opportunities.",
                    phone: "Phone / WhatsApp",
                    email: "Email",
                    location: "Current Location"
                }
            }
        };

        // ==========================================================================================
        //  猬锔猬锔猬锔 FIN ZONA EDITABLE / END EDITING 猬锔猬锔猬锔
        //  (No toques el c贸digo debajo a menos que sepas React)
        // ==========================================================================================

        const { useState, useEffect, useRef } = React;

        // --- ICONOS ---
        const Icon = ({ name, size = 24, className = "" }) => {
            useEffect(() => {
                if (window.lucide) { window.lucide.createIcons(); }
            }, [name]); 
            // Wrapper span con display:contents evita errores de reconciliaci贸n de React 
            // cuando Lucide reemplaza el nodo <i> con <svg>
            return (
                <span style={{ display: 'contents' }}>
                    <i data-lucide={name.toLowerCase().replace(/([a-z])([A-Z])/g, '$1-$2')} style={{ width: size, height: size }} className={className}></i>
                </span>
            );
        };

        // Helper para usar iconos como componentes
        const LucideIcon = ({ name, ...props }) => <Icon name={name} {...props} />;
        
        // Componentes de Iconos Individuales para uso directo si se requiere
        const Download = (p) => <Icon name="download" {...p} />;
        const Mail = (p) => <Icon name="mail" {...p} />;
        const Linkedin = (p) => <Icon name="linkedin" {...p} />;
        const Globe = (p) => <Icon name="globe" {...p} />;
        const Cpu = (p) => <Icon name="cpu" {...p} />;
        const Code = (p) => <Icon name="code" {...p} />;
        const Award = (p) => <Icon name="award" {...p} />;
        const Briefcase = (p) => <Icon name="briefcase" {...p} />;
        const MapPin = (p) => <Icon name="map-pin" {...p} />;
        const Phone = (p) => <Icon name="phone" {...p} />;
        const MessageCircle = (p) => <Icon name="message-circle" {...p} />;
        const Menu = (p) => <Icon name="menu" {...p} />;
        const X = (p) => <Icon name="x" {...p} />;
        const ChevronRight = (p) => <Icon name="chevron-right" {...p} />;
        const ChevronLeft = (p) => <Icon name="chevron-left" {...p} />;
        const ExternalLink = (p) => <Icon name="external-link" {...p} />;
        const XCircle = (p) => <Icon name="x-circle" {...p} />;
        const Calendar = (p) => <Icon name="calendar" {...p} />;
        const CheckCircle2 = (p) => <Icon name="check-circle-2" {...p} />;
        const BrainCircuit = (p) => <Icon name="brain-circuit" {...p} />;
        const Factory = (p) => <Icon name="factory" {...p} />;
        const Settings = (p) => <Icon name="settings" {...p} />;
        const FileText = (p) => <Icon name="file-text" {...p} />;
        const Image = (p) => <Icon name="image" {...p} />;
        const Eye = (p) => <Icon name="eye" {...p} />;
        const User = (p) => <Icon name="user" {...p} />;
        const ArrowDown = (p) => <Icon name="arrow-down" {...p} />;
        const Medal = (p) => <Icon name="medal" {...p} />;
        const Sparkles = (p) => <Icon name="sparkles" {...p} />;
        const Send = (p) => <Icon name="send" {...p} />;
        const Loader2 = (p) => <Icon name="loader-2" {...p} />;
        const Bot = (p) => <Icon name="bot" {...p} />;
        const Calculator = (p) => <Icon name="calculator" {...p} />;
        const Video = (p) => <Icon name="video" {...p} />; // NUEVO


        const WhatsAppButton = () => (
        <a 
            href={`https://wa.me/${CONFIG.whatsappNumber}`}
            target="_blank" 
            rel="noopener noreferrer"
            className="fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-all hover:scale-110 flex items-center justify-center"
            aria-label="Contact on WhatsApp"
        >
            <MessageCircle size={32} />
        </a>
        );

        // --- COMPONENTE DE VISOR DE GALERA (MODIFICADO PARA NAVEGACIN) ---
        const GalleryOverlay = ({ files, initialIndex, onClose }) => {
            const [currentIndex, setCurrentIndex] = useState(initialIndex || 0);
            
            // Handle array if user just passed a single object by mistake
            const filesArray = Array.isArray(files) ? files : [files];
            const currentFile = filesArray[currentIndex];

            const nextFile = (e) => {
                e.stopPropagation();
                setCurrentIndex((prev) => (prev + 1) % filesArray.length);
            };

            const prevFile = (e) => {
                e.stopPropagation();
                setCurrentIndex((prev) => (prev - 1 + filesArray.length) % filesArray.length);
            };

            // Keyboard navigation
            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.key === 'ArrowRight') nextFile(e);
                    if (e.key === 'ArrowLeft') prevFile(e);
                    if (e.key === 'Escape') onClose();
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [filesArray.length]); // Re-bind if length changes

            if (!currentFile) return null;

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-sm animate-fade-in p-4">
                    {/* Bot贸n Cerrar */}
                    <button 
                        onClick={onClose}
                        className="absolute top-4 right-4 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-2 transition-colors z-50"
                    >
                        <X size={32} />
                    </button>

                    {/* Botones de Navegaci贸n (Solo si hay m谩s de 1 archivo) */}
                    {filesArray.length > 1 && (
                        <>
                            <button 
                                onClick={prevFile}
                                className="absolute left-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-3 transition-colors z-50"
                            >
                                <ChevronLeft size={40} />
                            </button>
                            <button 
                                onClick={nextFile}
                                className="absolute right-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-3 transition-colors z-50"
                            >
                                <ChevronRight size={40} />
                            </button>
                        </>
                    )}

                    <div className="w-full max-w-6xl h-full flex flex-col items-center justify-center relative">
                        {currentFile.type === 'image' ? (
                            <img 
                                src={currentFile.url} 
                                alt={currentFile.title} 
                                className="max-h-[85vh] max-w-full object-contain rounded-md shadow-2xl animate-scale-up"
                            />
                        ) : currentFile.type === 'video' ? (
                            <div className="max-h-[85vh] w-full max-w-4xl bg-black rounded-lg overflow-hidden shadow-2xl animate-scale-up">
                                <video controls className="w-full h-full" src={currentFile.url}>
                                    Your browser does not support the video tag.
                                </video>
                            </div>
                        ) : (
                            <div className="w-full h-[85vh] bg-white rounded-lg overflow-hidden shadow-2xl animate-scale-up relative">
                                <div className="absolute inset-0 flex items-center justify-center text-slate-400">
                                    <div className="text-center">
                                        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-slate-400 mx-auto mb-4"></div>
                                        <p>Loading... / Cargando...</p>
                                    </div>
                                </div>
                                {/* Usamos iframe para mostrar PDF en l铆nea */}
                                <iframe 
                                    src={currentFile.url} 
                                    className="w-full h-full relative z-10" 
                                    title={currentFile.title}
                                ></iframe>
                            </div>
                        )}
                        <div className="mt-4 text-center">
                            <h3 className="text-white text-xl font-bold">{currentFile.title}</h3>
                            <p className="text-white/60 text-sm uppercase tracking-widest">
                                {currentFile.type}  {currentIndex + 1} / {filesArray.length}
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        // --- COMPONENTE: CINTA DE SOFTWARE ---
        const SoftwareTicker = ({ logos }) => {
            // Duplicamos la lista para crear un efecto de loop infinito sin cortes
            const duplicatedLogos = [...logos, ...logos];

            return (
                <div className="w-full bg-slate-100 py-4 border-y border-slate-200 overflow-hidden relative">
                    <div className="mask-gradient absolute inset-0 z-10 pointer-events-none"></div>
                    <div className="flex w-[200%] animate-scroll hover-pause">
                        {duplicatedLogos.map((logo, index) => (
                            <div key={index} className="flex-shrink-0 w-[200px] flex justify-center items-center px-8 grayscale hover:grayscale-0 transition-all duration-300 opacity-60 hover:opacity-100 transform hover:scale-110">
                                <img src={logo.url} alt={logo.name} className="h-10 w-auto object-contain" title={logo.name} />
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // --- COMPONENTE: TARJETA DE IDIOMAS ---
        const LanguageCard = ({ languages, title }) => {
            return (
                <div className="bg-white p-8 rounded-2xl shadow-md border border-slate-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <h3 className="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                        <Globe className="text-blue-500" />
                        {title}
                    </h3>
                    <div className="space-y-6">
                        {languages.map((lang, idx) => (
                            <div key={idx}>
                                <div className="flex justify-between items-end mb-2">
                                    <div className="flex items-center gap-2 font-bold text-slate-700">
                                        <span className="text-2xl">{lang.flag}</span> {lang.name}
                                    </div>
                                    <span className="text-sm font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded">{lang.level}</span>
                                </div>
                                <div className="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden">
                                    <div 
                                        className="h-full bg-gradient-to-r from-blue-500 to-emerald-400 rounded-full" 
                                        style={{ width: `${lang.percent}%` }}
                                    ></div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // --- GEMINI CHAT WIDGET ---
        const GeminiChatWidget = ({ lang }) => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([]);
            const [input, setInput] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            const messagesEndRef = useRef(null);
            
            const apiKey = CONFIG.geminiApiKey; 

            const toggleChat = () => setIsOpen(!isOpen);

            // Initial greeting based on language
            useEffect(() => {
                const initialMsg = lang === 'es' 
                    ? "隆Hola! Soy el asistente virtual de Marco. Estoy aqu铆 para contarte sobre su experiencia en automatizaci贸n, gesti贸n de proyectos y su trayectoria internacional. 驴Qu茅 te gustar铆a saber?"
                    : "Hi! I'm Marco's virtual assistant. I'm here to tell you about his experience in automation, project management, and his global background. What would you like to know?";
                
                if (messages.length === 0) {
                    setMessages([{ role: 'model', text: initialMsg }]);
                }
            }, [lang]);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            useEffect(() => {
                scrollToBottom();
            }, [messages, isOpen]);

            const handleSend = async (e) => {
                e.preventDefault();
                if (!input.trim() || isLoading) return;

                const userMsg = input.trim();
                setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setInput('');
                setIsLoading(true);

                if (!apiKey) {
                      setMessages(prev => [...prev, { role: 'model', text: "Please configure the Gemini API Key in the CONFIG section." }]);
                      setIsLoading(false);
                      return;
                }

                try {
                    // System prompt with context from DATA
                    const contextData = JSON.stringify(DATA[lang]);
                    
                    // ---------------------------------------------------------
                    //  CEREBRO DEL CHAT (ENTRENAMIENTO PERSONALIZADO)
                    // ---------------------------------------------------------
                    const systemPrompt = `
                    ACT AS: You are the professional AI assistant of Marco Alulema.
                    TONE: Professional, concise, enthusiastic, and polite.
                    LANGUAGE: Respond strictly in the same language the user asks (${lang === 'es' ? 'Spanish' : 'English'}).

                    KNOWLEDGE BASE (Use this strictly for factual data):
                    ${contextData}

                    ------------
                    HARD GUIDELINES (REGLAS DE COMPORTAMIENTO):
                    
                    1. ESTADO CIVIL:
                       - Solo si preguntan expl铆citamente: "Marco es casado."

                    2. PYTHON / TESIS:
                       - Si preguntan por Python, SIEMPRE menciona: "Marco utiliz贸 Python con las librer铆as MediaPipe y OpenCV en su tesis para procesamiento de im谩genes."

                    3. RECLUTADORES:
                       - Si el usuario parece un reclutador, inv铆talo a ver el CV y ofrece las opciones de contacto abajo.

                    4. PROHIBICIONES:
                       - NUNCA discutas ni menciones temas pol铆ticos o religiosos.

                    5. EDUCACIN (JERARQUA):
                       - Si preguntan por formaci贸n, destaca SIEMPRE PRIMERO el "MSc. Mecatr贸nica (EU4M)" y la estancia en "Alemania (KIT/HKA)".

                    6. CONTACTO / REUNIONES / ENTREVISTAS (IMPORTANTE):
                       - Si el usuario menciona "reuni贸n", "llamada", "entrevista", "contacto" o "agendar", ofrece SIEMPRE estas dos opciones:
                         1. " Para agendar una reuni贸n formal, usa mi Calendario de Google: https://calendar.app.google/UBMNZeJ1PjzuahJA8"
                         2. " Para un chat r谩pido, escr铆beme por WhatsApp: https://wa.me/34604233982"
                       - Si el usuario quiere enviar o dejarme un mensaje invitale a contactarse conmigo o agendar una reunion 
                    7.  PERSONALIDAD:
                       - Eres 煤til y vas al grano. No inventes informaci贸n que no est茅 aqu铆, siempre trata ca Marco como tercera persona. tu no eres Marco, eres su asistente virtual.  trata de seguir la conversa, si te preguntan algo puedes ser cordial al mencionar que estas ahi para ayudar  
                    ------------
                    `;

                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userMsg }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    const data = await response.json();
                    
                    if (data.error) {
                        throw new Error(data.error.message);
                    }

                    const aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't process that.";
                    setMessages(prev => [...prev, { role: 'model', text: aiResponse }]);

                } catch (error) {
                    console.error("Gemini API Error:", error);
                    setMessages(prev => [...prev, { role: 'model', text: lang === 'es' ? "Lo siento, hubo un error al conectar. Intenta de nuevo." : "Sorry, connection error. Please try again." }]);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <>
                    {/* Chat Trigger Button */}
                    <button 
                        onClick={toggleChat}
                        className={`fixed bottom-24 right-6 z-50 p-4 rounded-full shadow-lg transition-all hover:scale-110 flex items-center justify-center ${isOpen ? 'bg-red-500 text-white' : 'bg-blue-600 text-white animate-bounce-slow'}`}
                        title={lang === 'es' ? "Chatear con IA" : "Chat with AI"}
                    >
                        {isOpen ? <X size={28} /> : <Bot size={28} />}
                    </button>

                    {/* Chat Window */}
                    {isOpen && (
                        <div className="fixed bottom-40 right-6 z-50 w-80 md:w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden flex flex-col animate-fade-in-up max-h-[500px]">
                            <div className="bg-slate-900 text-white p-4 flex justify-between items-center">
                                <div className="flex items-center gap-2">
                                    <Sparkles size={18} className="text-yellow-400" />
                                    <h3 className="font-bold">Marco's AI Assistant</h3>
                                </div>
                                <span className="text-xs bg-blue-600 px-2 py-1 rounded">Beta</span>
                            </div>
                            
                            <div className="flex-1 overflow-y-auto p-4 bg-slate-50 space-y-4 min-h-[300px]">
                                {messages.map((msg, idx) => (
                                    <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                        <div className={`max-w-[80%] p-3 rounded-2xl text-sm chat-message ${
                                            msg.role === 'user' 
                                            ? 'bg-blue-600 text-white rounded-tr-none' 
                                            : 'bg-white text-slate-700 border border-slate-200 rounded-tl-none shadow-sm'
                                        }`}>
                                                {msg.text}
                                        </div>
                                    </div>
                                ))}
                                {isLoading && (
                                    <div className="flex justify-start">
                                        <div className="bg-white p-3 rounded-2xl rounded-tl-none border border-slate-200 shadow-sm">
                                            <Loader2 size={20} className="animate-spin text-blue-500" />
                                        </div>
                                    </div>
                                )}
                                <div ref={messagesEndRef} />
                            </div>

                            <form onSubmit={handleSend} className="p-3 bg-white border-t border-slate-100 flex gap-2">
                                <input 
                                    type="text" 
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    placeholder={lang === 'es' ? "Escribe tu pregunta..." : "Ask a question..."}
                                    className="flex-1 bg-slate-100 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                                <button 
                                    type="submit" 
                                    disabled={isLoading || !input.trim()}
                                    className="p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 transition-colors"
                                >
                                    <Send size={18} />
                                </button>
                            </form>
                        </div>
                    )}
                </>
            );
        };

        // --- MODAL COMPONENT ---
        // --- MODAL COMPONENT (CORREGIDO: CIERRA AL DAR CLICK AFUERA) ---
        const ProjectModal = ({ project, onClose, lang }) => {
                    const [viewingFileIndex, setViewingFileIndex] = useState(null);
                    const [summary, setSummary] = useState(null);
                    const [isSummarizing, setIsSummarizing] = useState(false);
                    const apiKey = CONFIG.geminiApiKey;

                    // Function to generate summary using Gemini
                    const handleSummarize = async () => {
                        if (summary) return;
                        setIsSummarizing(true);
                        
                        if (!apiKey) {
                            setSummary("API Key missing in CONFIG.");
                            setIsSummarizing(false);
                            return;
                        }

                        try {
                            const prompt = `Summarize this project description into a very concise 2-sentence "elevator pitch" that highlights the technical impact and result. Project: ${project.title}. Description: ${project.fullDesc}. Features: ${project.features.join(', ')}. Respond in ${lang === 'es' ? 'Spanish' : 'English'}.`;
                            
                            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({
                                    contents: [{ parts: [{ text: prompt }] }]
                                })
                            });
                            
                            const data = await response.json();
                            const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                            if(text) setSummary(text);

                        } catch (e) {
                            console.error("Summary failed", e);
                        } finally {
                            setIsSummarizing(false);
                        }
                    };

                    if (!project) return null;

                    return (
                        <>
                            {/* Visor de Galer铆a */}
                            {viewingFileIndex !== null && (
                                <GalleryOverlay 
                                    files={project.files} 
                                    initialIndex={viewingFileIndex}
                                    onClose={() => setViewingFileIndex(null)} 
                                />
                            )}

                            {/* CAMBIO 1: Agregamos onClick={onClose} aqu铆 al fondo.
                                Y mantenemos el bg-slate-900/95 para que sea r谩pido (sin blur lento).
                            */}
                            <div 
                                className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/95 animate-fade-in"
                                onClick={onClose}
                            >
                                {/* CAMBIO 2: Agregamos e.stopPropagation() aqu铆.
                                    Esto evita que el modal se cierre si das click DENTRO de la tarjeta blanca.
                                */}
                                <div 
                                    className="bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto relative animate-scale-up"
                                    onClick={(e) => e.stopPropagation()}
                                >
                                    <button 
                                        onClick={onClose}
                                        className="absolute top-4 right-4 text-slate-400 hover:text-red-500 transition-colors bg-white rounded-full p-1 z-10"
                                    >
                                        <XCircle size={32} />
                                    </button>

                                    <div className="p-6 md:p-8">
                                        <div className="flex flex-col md:flex-row md:items-center gap-4 mb-6">
                                            <div className="p-4 bg-blue-100 text-blue-600 rounded-xl w-fit">
                                                <Icon name={project.icon} size={32} />
                                            </div>
                                            <div>
                                                <div className="flex items-center gap-2 text-sm font-bold text-slate-500 mb-1">
                                                    <Calendar size={14} />
                                                    {project.date}
                                                </div>
                                                <h3 className="text-2xl md:text-3xl font-bold text-slate-900">{project.title}</h3>
                                            </div>
                                        </div>

                                        {/* GEMINI SUMMARY BUTTON */}
                                        <div className="mb-6">
                                            {!summary ? (
                                                <button 
                                                    onClick={handleSummarize}
                                                    disabled={isSummarizing}
                                                    className="text-sm bg-purple-50 text-purple-700 px-4 py-2 rounded-lg border border-purple-100 hover:bg-purple-100 transition-colors flex items-center gap-2 font-semibold"
                                                >
                                                    {isSummarizing ? <Loader2 size={16} className="animate-spin"/> : <Sparkles size={16} />}
                                                    {lang === 'es' ? 'Generar Resumen IA (Elevator Pitch)' : 'Generate AI Summary (Elevator Pitch)'}
                                                </button>
                                            ) : (
                                                <div className="bg-purple-50 p-4 rounded-lg border border-purple-100 animate-fade-in">
                                                    <div className="flex items-center gap-2 text-purple-800 font-bold mb-1 text-xs uppercase tracking-wider">
                                                        <Sparkles size={12} /> Gemini AI Summary
                                                    </div>
                                                    <p className="text-purple-900 text-sm italic">"{summary}"</p>
                                                </div>
                                            )}
                                        </div>

                                        <div className="space-y-8">
                                            <div>
                                                <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-2">
                                                    {lang === 'es' ? 'Descripci贸n del Proyecto' : 'Project Description'}
                                                </h4>
                                                <p className="text-slate-700 leading-relaxed text-lg">
                                                    {project.fullDesc}
                                                </p>
                                            </div>

                                            {/* GALERA / ARCHIVOS */}
                                            {project.files && project.files.length > 0 && (
                                                <div className="bg-slate-50 p-6 rounded-xl border border-slate-100">
                                                    <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2">
                                                        <Image size={16} />
                                                        {lang === 'es' ? 'Galer铆a & Documentos' : 'Gallery & Documents'}
                                                    </h4>
                                                    
                                                    <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
                                                        {project.files.map((file, idx) => (
                                                            <div 
                                                                key={idx}
                                                                onClick={() => setViewingFileIndex(idx)}
                                                                className="group cursor-pointer relative bg-white border border-slate-200 rounded-lg overflow-hidden hover:shadow-md hover:border-blue-400 transition-all aspect-square flex flex-col"
                                                            >
                                                                {file.type === 'image' ? (
                                                                    <div className="flex-1 overflow-hidden relative">
                                                                        <img src={file.url} alt={file.title} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                                                                        <div className="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                                                                            <Eye className="text-white drop-shadow-md" size={24} />
                                                                        </div>
                                                                    </div>
                                                                ) : file.type === 'video' ? (
                                                                    <div className="flex-1 flex flex-col items-center justify-center bg-slate-900 text-white group-hover:bg-slate-800 transition-colors relative overflow-hidden">
                                                                        <Video size={32} className="mb-2 z-10" />
                                                                        <span className="text-xs font-bold uppercase z-10">VIDEO</span>
                                                                        <div className="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-10 transition-opacity"></div>
                                                                    </div>
                                                                ) : (
                                                                    <div className="flex-1 flex flex-col items-center justify-center bg-slate-50 text-slate-400 group-hover:bg-red-50 group-hover:text-red-500 transition-colors">
                                                                        <FileText size={32} className="mb-2" />
                                                                        <span className="text-xs font-bold uppercase">PDF</span>
                                                                    </div>
                                                                )}
                                                                <div className="p-2 text-xs font-medium text-slate-700 truncate bg-white border-t border-slate-100">
                                                                    {file.title}
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            )}

                                            <div>
                                                <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">
                                                    {lang === 'es' ? 'Caracter铆sticas & Resultados' : 'Features & Results'}
                                                </h4>
                                                <ul className="space-y-3">
                                                    {project.features.map((feature, idx) => (
                                                        <li key={idx} className="flex items-start gap-3 text-slate-700">
                                                            <CheckCircle2 className="text-emerald-500 shrink-0 mt-1" size={18} />
                                                            <span>{feature}</span>
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>

                                            <div>
                                                <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">
                                                    {lang === 'es' ? 'Tecnolog铆as' : 'Technologies'}
                                                </h4>
                                                <div className="flex flex-wrap gap-2">
                                                    {project.tech.split(',').map((t, i) => (
                                                        <span key={i} className="px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-sm font-medium border border-slate-200">
                                                            {t.trim()}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>

                                        <div className="mt-8 pt-6 border-t border-slate-100 flex justify-end">
                                            <button 
                                                onClick={onClose}
                                                className="px-6 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors"
                                            >
                                                {lang === 'es' ? 'Cerrar' : 'Close'}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </>
                    );
                };

        // --- COMPONENTE MAPA ---
        const SimpleWorldMap = ({ items, onPinClick, title }) => {
            return (
                <div className="relative w-full aspect-[1.8] bg-slate-100 rounded-3xl border border-slate-200 overflow-hidden shadow-inner group">
                    
                    <div className="absolute top-4 left-0 right-0 text-center z-20 pointer-events-none">
                        <span className="bg-white/80 backdrop-blur-sm px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest text-slate-500 shadow-sm border border-white">
                            {title}
                        </span>
                    </div>

                    {/* Mapa Base SVG (Silueta simple del mundo) */}
                    <div className="absolute inset-0 opacity-40 grayscale group-hover:grayscale-0 transition-all duration-700">
                        <img 
                            src="https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg" 
                            alt="World Map" 
                            className="w-full h-full object-cover"
                        />
                    </div>
                    
                    {/* Overlay gradiente para mejor lectura */}
                    <div className="absolute inset-0 bg-blue-900/5 mix-blend-overlay"></div>

                    {/* Pines de Ubicaci贸n */}
                    {items.map((item) => (
                        <div 
                            key={item.id}
                            onClick={() => onPinClick(item.id)}
                            className="absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2 group/pin z-10"
                            style={{ top: item.coords?.top || '50%', left: item.coords?.left || '50%' }}
                        >
                            {/* C铆rculo pulsante (Highlight) */}
                            <div className="w-4 h-4 bg-blue-500 rounded-full animate-ping absolute inset-0 opacity-75"></div>
                            {/* Pin real */}
                            <div className="w-4 h-4 bg-blue-600 border-2 border-white rounded-full shadow-lg relative z-10 hover:scale-125 transition-transform duration-200"></div>
                            
                            {/* Tooltip */}
                            <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover/pin:opacity-100 transition-opacity whitespace-nowrap pointer-events-none">
                                {item.location}
                            </div>
                        </div>
                    ))}
                </div>
            );
        };


        function Portfolio() {
            // Estado para idioma por defecto en Ingl茅s ('en')
            const [lang, setLang] = useState('en'); 
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            // El splash es verdadero al inicio
            const [showSplash, setShowSplash] = useState(true);
            const [activeNode, setActiveNode] = useState(null);
            const [selectedProject, setSelectedProject] = useState(null);
            
            // Estado para el visor de archivos principal (para certificaciones)
            // IMPORTANTE: Ahora usamos una estructura unificada para GalleryOverlay si es necesario
            // Para simplificar, usaremos GalleryOverlay para certificaciones tambi茅n, pasando un array de 1 elemento.
            const [viewingFile, setViewingFile] = useState(null);

            // Refs para hacer scroll a los items de la trayectoria
            const journeyRefs = useRef({});

            const t = DATA[lang] || DATA['es'];

            const toggleLang = () => {
                setLang(prev => prev === 'es' ? 'en' : 'es');
            };

            // Funci贸n para manejar el clic en el mapa
            const handleMapPinClick = (id) => {
                const element = journeyRefs.current[id];
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    // Opcional: a帽adir efecto de resaltado temporal
                    element.classList.add('ring-2', 'ring-blue-500');
                    setTimeout(() => element.classList.remove('ring-2', 'ring-blue-500'), 1500);
                }
            };

            // Detectar scroll para cerrar splash y dejar en ingl茅s
            useEffect(() => {
                const handleScrollOrInteraction = () => {
                    if (showSplash) {
                        setShowSplash(false);
                    }
                };

                // A帽adimos listeners para scroll y rueda del rat贸n
                window.addEventListener('scroll', handleScrollOrInteraction);
                window.addEventListener('wheel', handleScrollOrInteraction);
                
                return () => {
                    window.removeEventListener('scroll', handleScrollOrInteraction);
                    window.removeEventListener('wheel', handleScrollOrInteraction);
                };
            }, [showSplash]);

            // --- ANIMACIN AL HACER SCROLL (INTERSECTION OBSERVER) ---
            useEffect(() => {
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                        }
                    });
                }, observerOptions);

                // Seleccionamos todos los elementos con la clase 'reveal-on-scroll'
                const elements = document.querySelectorAll('.reveal-on-scroll');
                elements.forEach(el => observer.observe(el));

                return () => {
                    elements.forEach(el => observer.unobserve(el));
                };
            }, [lang]); 


            useEffect(() => {
                if (selectedProject || showSplash) {
                    document.body.style.overflow = selectedProject || showSplash ? 'hidden' : 'unset';
                    // Permitimos scroll en el cuerpo si es solo el splash para detectar el evento
                    if(showSplash) document.body.style.overflow = 'unset'; 
                } else {
                    document.body.style.overflow = 'unset';
                }
            }, [selectedProject, showSplash]);

            if (!t) return null; // Safety check

            return (
                <div className="min-h-screen bg-slate-50 text-slate-800 font-sans selection:bg-blue-200 relative">
                
                {/* --- SPLASH SCREEN (OVERLAY) --- */}
                <div className={`fixed inset-0 z-[100] bg-slate-900 flex flex-col items-center justify-center text-white p-4 transition-opacity duration-700 ease-in-out ${showSplash ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'}`}>
                    <h1 className="text-4xl md:text-6xl font-bold mb-8 text-center animate-fade-in-up">Marco Alulema Paredes</h1>
                    <p className="text-xl mb-12 text-blue-200">Mag铆ster en Ingenier铆a Mecatr贸nica | M.Sc. in Mechatronics Engineering</p>
                    
                    <div className="flex gap-6 mb-12">
                        <button 
                            onClick={() => { setLang('es'); setShowSplash(false); }}
                            className="px-8 py-4 bg-transparent border-2 border-blue-500 hover:bg-blue-500 hover:text-white rounded-lg text-xl transition-all duration-300 transform hover:-translate-y-1"
                        >
                            Espa帽ol
                        </button>
                        <button 
                            onClick={() => { setLang('en'); setShowSplash(false); }}
                            className="px-8 py-4 bg-transparent border-2 border-emerald-500 hover:bg-emerald-500 hover:text-white rounded-lg text-xl transition-all duration-300 transform hover:-translate-y-1"
                        >
                            English
                        </button>
                    </div>
                    
                    <div className="animate-bounce text-slate-500 flex flex-col items-center gap-2">
                        <span className="text-sm">Scroll to enter (English Default)</span>
                        <ArrowDown size={24} />
                    </div>
                </div>

                
                <WhatsAppButton />
                <GeminiChatWidget lang={lang} />

                {/* Main File Viewer Overlay (para certificaciones individuales) */}
                {viewingFile && (
                    <GalleryOverlay 
                        files={[viewingFile]} // Pasamos como array para reutilizar el componente
                        initialIndex={0}
                        onClose={() => setViewingFile(null)} 
                    />
                )}

                {/* Project Modal */}
                {selectedProject && (
                    <ProjectModal 
                    project={selectedProject} 
                    onClose={() => setSelectedProject(null)} 
                    lang={lang} 
                    />
                )}

                {/* Navigation */}
                <nav className="fixed w-full bg-white/90 backdrop-blur-md shadow-sm z-40 transition-all duration-300">
                    <div className="container mx-auto px-6 py-4 flex justify-between items-center">
                    <div className="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-emerald-600">
                        Marco Alulema
                    </div>
                    
                    <div className="hidden md:flex items-center gap-8 font-medium text-slate-600">
                        {/* Nuevo item de men煤 About Me */}
                        <a href="#about-me" className="hover:text-blue-600 transition-colors">{t.nav.aboutMe}</a>
                        <a href="#journey" className="hover:text-blue-600 transition-colors">{t.nav.journey}</a>
                        <a href="#projects" className="hover:text-blue-600 transition-colors">{t.nav.projects}</a>
                        <a href="#experience" className="hover:text-blue-600 transition-colors">{t.nav.experience}</a>
                        <a href="#contact" className="hover:text-blue-600 transition-colors">{t.nav.contact}</a>
                        <button 
                        onClick={toggleLang}
                        className="flex items-center gap-2 px-3 py-1 rounded-full border border-slate-200 hover:border-blue-400 transition-colors"
                        >
                        <Globe size={16} />
                        <span className="uppercase text-sm">{lang}</span>
                        </button>
                    </div>

                    <div className="md:hidden flex items-center gap-4">
                        <button 
                        onClick={toggleLang}
                        className="flex items-center gap-2 px-3 py-1 rounded-full border border-slate-200"
                        >
                        <span className="uppercase text-sm">{lang}</span>
                        </button>
                        <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-slate-700">
                        {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
                        </button>
                    </div>
                    </div>

                    {/* Mobile Menu */}
                    {isMenuOpen && (
                    <div className="md:hidden bg-white border-t border-slate-100 absolute w-full p-4 flex flex-col gap-4 shadow-lg animate-fade-in-down">
                        <a href="#about-me" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.aboutMe}</a>
                        <a href="#journey" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.journey}</a>
                        <a href="#projects" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.projects}</a>
                        <a href="#contact" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.contact}</a>
                    </div>
                    )}
                </nav>

                {/* Hero Section */}
                <header className="pt-32 pb-20 px-6 bg-gradient-to-b from-white to-slate-100">
                    <div className="container mx-auto flex flex-col md:flex-row items-center gap-12">
                    <div className="flex-1 space-y-6 animate-fade-in-left">
                        <div className="inline-block px-4 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold tracking-wide">
                        {lang === 'es' ? 'Disponible para contratar' : 'Open to work'}
                        </div>
                        <h1 className="text-4xl md:text-6xl font-extrabold text-slate-900 leading-tight">
                        {t.hero.role}
                        </h1>
                        <h2 className="text-xl md:text-2xl text-slate-600 font-light">
                        {t.hero.subrole}
                        </h2>
                        <p className="text-lg text-slate-600 max-w-xl leading-relaxed">
                        {t.hero.desc}
                        </p>

                        {/* --- NEW: ERASMUS & EU4M LOGOS BLOCK (ENLARGED) --- */}
                        <div className="flex items-center gap-6 p-6 bg-white rounded-2xl shadow-md border border-slate-100 w-fit transform hover:scale-105 transition-transform duration-300">
                            <span className="text-sm font-bold text-slate-500 uppercase tracking-wider mr-2">
                                {lang === 'es' ? 'Miembro de:' : 'Member of:'}
                            </span>
                            <img src="https://europa.rs/wp-content/uploads/2018/09/Erasmus-Mundus.jpg" alt="Erasmus Mundus" className="h-14 w-auto object-contain" />
                            <div className="w-px h-10 bg-slate-300"></div>
                            {/* LINKED EU4M LOGO */}
                            <a href="https://www.eu4m.eu/" target="_blank" rel="noopener noreferrer" className="hover:opacity-80 transition-opacity">
                                <img src="https://pbs.twimg.com/profile_images/654669726589648896/IW22xczE_400x400.png" alt="EU4M" className="h-20 w-20 object-contain rounded-full cursor-pointer" />
                            </a>
                        </div>
                        
                        <div className="flex flex-wrap gap-4 pt-4 items-center">
                        <a 
                            href="#contact" 
                            className="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-1 font-medium"
                        >
                            {t.hero.btn_contact}
                        </a>
                        <div className="flex flex-wrap gap-2">
                        <a 
                            href={CONFIG.cvSpanish} 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="px-6 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-blue-300 rounded-lg shadow-sm transition-all flex items-center gap-2"
                        >
                            <Download size={18} />
                            <span>{lang === 'es' ? 'CV Espa帽ol' : 'CV Spanish'}</span>
                        </a>
                        <a 
                            href={CONFIG.cvEnglish} 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="px-6 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-emerald-300 rounded-lg shadow-sm transition-all flex items-center gap-2"
                        >
                            <Download size={18} />
                            <span>{lang === 'es' ? 'CV Ingl茅s' : 'CV English'}</span>
                        </a>
                    </div>
                        
                        <a 
                            href={CONFIG.linkedinProfile} 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="p-3 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors shadow-sm ml-2"
                            aria-label="LinkedIn Profile"
                        >
                            <Linkedin size={20} />
                        </a>
                        </div>
                    </div>
                    
                    {/* Abstract Geometric Representation of Mechatronics */}
                    <div className="flex-1 flex justify-center items-center relative animate-fade-in-right">
                        <div className="relative w-80 h-80 md:w-96 md:h-96">
                            <div className="absolute inset-0 bg-blue-500/10 rounded-full blur-3xl animate-pulse"></div>
                            <div className="relative w-full h-full bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col p-6 text-white border border-slate-700">
                                <div className="flex justify-between items-center mb-8 opacity-50">
                                    <Cpu size={32} />
                                    <div className="flex gap-2">
                                        <div className="w-3 h-3 rounded-full bg-red-500"></div>
                                        <div className="w-3 h-3 rounded-full bg-yellow-500"></div>
                                        <div className="w-3 h-3 rounded-full bg-green-500"></div>
                                    </div>
                                </div>
                                <div className="space-y-4 font-mono text-sm opacity-80">
                                    <div className="flex items-center gap-3">
                                        <span className="text-emerald-400">root@marco:~$</span>
                                        <span>init_system --robotics</span>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        <span className="text-emerald-400">root@marco:~$</span>
                                        <span>load_module eu4m_master</span>
                                    </div>
                                    <div className="pl-4 text-slate-400">
                                        {'>'} Loading Ecuador... OK<br/>
                                        {'>'} Loading Spain... OK<br/>
                                        {'>'} Loading Egypt... OK<br/>
                                        {'>'} Loading Germany... OK<br/>
                                        {'>'} System Ready.
                                    </div>
                                    <div className="mt-8 p-4 bg-slate-800/50 rounded border border-slate-600 flex items-center gap-4">
                                    <Award className="text-yellow-400" size={24} />
                                    <div>
                                        <div className="text-xs text-slate-400">Status</div>
                                        <div className="font-bold text-emerald-400">Available for Hire</div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </header>

                {/* --- NUEVA SECCIN: ABOUT ME --- */}
                <section id="about-me" className="py-20 bg-white">
                    <div className="container mx-auto px-6 reveal-on-scroll">
                        <div className="flex flex-col md:flex-row gap-12 items-center">
                            <div className="md:w-1/3 flex justify-center">
                                <div className="relative w-64 h-64 md:w-80 md:h-80">
                                    <div className="absolute inset-0 border-4 border-blue-500/20 rounded-full animate-pulse"></div>
                                    <div className="absolute inset-2 border-4 border-blue-500/40 rounded-full"></div>
                                    {/* Placeholder para la foto del usuario */}
                                    <img 
                                        src={t.aboutMe.photoUrl} 
                                        alt="Marco Alulema" 
                                        className="w-full h-full object-cover rounded-full shadow-2xl border-8 border-white relative z-10"
                                    />
                                    <div className="absolute bottom-4 right-4 z-20 bg-white p-3 rounded-full shadow-lg text-blue-600">
                                        <User size={24} />
                                    </div>
                                </div>
                            </div>
                            <div className="md:w-2/3">
                                <h2 className="text-3xl md:text-4xl font-bold text-slate-900 mb-6 flex items-center gap-3 reveal-on-scroll">
                                    {t.aboutMe.title}
                                    <span className="h-1 w-20 bg-blue-600 rounded-full mt-1"></span>
                                </h2>
                                <div className="space-y-4 text-lg text-slate-600 leading-relaxed reveal-on-scroll">
                                    {t.aboutMe.bio.map((paragraph, idx) => (
                                        <p key={idx} dangerouslySetInnerHTML={{ __html: paragraph.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') }}></p>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* --- SECCIN REDISEADA: TRAYECTORIA ACADMICA (TIMELINE COMPACTO IZQUIERDA + MAPA DERECHA) --- */}
                <section id="journey" className="py-16 bg-slate-50">
                    <div className="container mx-auto px-6">
                        <div className="text-center mb-16 reveal-on-scroll">
                            <h2 className="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{t.journey.title}</h2>
                            <p className="text-slate-500">{t.journey.subtitle}</p>
                        </div>

                        <div className="flex flex-col lg:flex-row gap-12">
                            {/* Columna Izquierda: L铆nea de Tiempo */}
                            <div className="lg:w-1/2 relative pl-8">
                                <div className="absolute left-4 top-0 bottom-0 w-0.5 bg-slate-300"></div>

                                <div className="space-y-4"> 
                                    {t.journey.items.map((item, index) => (
                                        <div 
                                            key={item.id} 
                                            ref={el => journeyRefs.current[item.id] = el}
                                            className="relative flex flex-col md:flex-row gap-6 items-start reveal-on-scroll transition-all duration-300"
                                        >
                                            <div className="absolute left-[-22px] top-6 w-4 h-4 bg-blue-600 rounded-full border-4 border-white shadow-md z-10 animate-pulse-slow"></div>

                                            <div className="w-full">
                                                <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-xl hover:scale-[1.01] transition-all duration-300 group flex flex-col md:flex-row gap-6 items-start">
                                                    <div className="w-24 h-24 shrink-0 bg-white rounded-xl p-2 border border-slate-100 flex items-center justify-center overflow-hidden">
                                                        <img src={item.logoUrl} alt={item.institution} className="max-w-full max-h-full object-contain" />
                                                    </div>
                                                    
                                                    <div className="flex-1">
                                                        <div className="flex justify-between items-start mb-2">
                                                            <div>
                                                                <div className="text-xs font-bold text-blue-600 uppercase tracking-wide mb-1">{item.year}</div>
                                                                <h3 className="text-xl font-bold text-slate-900 leading-tight">{item.title}</h3>
                                                            </div>
                                                            <div className="text-3xl" title={item.location}>{item.flag}</div>
                                                        </div>
                                                        
                                                        <div className="text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1">
                                                            {item.institution}
                                                            {item.webUrl && (
                                                                <a href={item.webUrl} target="_blank" rel="noopener noreferrer" className="text-slate-400 hover:text-blue-500 transition-colors ml-1">
                                                                    <ExternalLink size={14} />
                                                                </a>
                                                            )}
                                                        </div>
                                                        
                                                        <div className="flex items-center gap-2 text-xs text-slate-500 mb-3">
                                                            <MapPin size={12} /> {item.location}
                                                        </div>
                                                        
                                                        <p className="text-sm text-slate-600 leading-relaxed">
                                                            {item.desc}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Columna Derecha: Mapa Mundi Interactivo */}
                            <div className="lg:w-1/2 hidden lg:block relative">
                                <div className="sticky top-32">
                                    <div className="bg-white p-4 rounded-3xl shadow-lg border border-slate-100 reveal-on-scroll">
                                        <SimpleWorldMap 
                                            items={t.journey.items} 
                                            onPinClick={handleMapPinClick} 
                                            title={t.journey.mapTitle} // T铆tulo din谩mico del mapa
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* --- NUEVA CINTA DE LOGOS DE SOFTWARE --- */}
                <SoftwareTicker logos={t.softwareLogos} />

                {/* Projects Grid */}
                <section id="projects" className="py-20 bg-white">
                    <div className="container mx-auto px-6">
                    <div className="text-center mb-16 reveal-on-scroll">
                        <h2 className="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{t.projects.title}</h2>
                        <p className="text-slate-500">{t.projects.subtitle}</p>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {t.projects.items.map((project, idx) => (
                        <div 
                            key={idx} 
                            className="group relative h-96 rounded-2xl overflow-hidden cursor-pointer shadow-md hover:shadow-2xl transition-all duration-500 reveal-on-scroll"
                            onClick={() => setSelectedProject(project)}
                        >
                            {/* IMAGEN DE FONDO & OVERLAY */}
                            <div className="absolute inset-0">
                                <img 
                                    src={project.image} 
                                    alt={project.title} 
                                    className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" 
                                />
                                <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-transparent opacity-90 group-hover:opacity-95 transition-opacity duration-300" />
                            </div>

                            <div className="relative z-10 p-8 h-full flex flex-col">
                                <div className="flex justify-between items-start mb-6">
                                    <div className="p-3 bg-white/10 backdrop-blur-md text-white rounded-lg border border-white/20 group-hover:bg-blue-600 group-hover:border-blue-600 transition-colors duration-300">
                                        <Icon name={project.icon} size={28} />
                                    </div>
                                </div>
                                
                                <h3 className="text-xl font-bold text-white mb-2 group-hover:text-blue-300 transition-colors">{project.title}</h3>
                                
                                <p className="text-slate-300 mb-6 text-sm leading-relaxed flex-grow line-clamp-3">
                                {project.shortDesc}
                                </p>
                                
                                <div className="mt-auto">
                                <div className="flex flex-wrap gap-2 mb-4">
                                    {project.tech.split(',').slice(0, 2).map((tech, i) => (
                                    <span key={i} className="text-xs font-semibold text-slate-200 bg-white/10 px-2 py-1 rounded backdrop-blur-sm border border-white/10">
                                        {tech.trim()}
                                    </span>
                                    ))}
                                    {project.tech.split(',').length > 2 && (
                                    <span className="text-xs font-semibold text-slate-200 bg-white/10 px-2 py-1 rounded backdrop-blur-sm border border-white/10">+{project.tech.split(',').length - 2}</span>
                                    )}
                                </div>
                                
                                <button className="w-full py-2 border border-white/30 text-white rounded-lg hover:bg-white/10 font-medium text-sm transition-colors flex items-center justify-center gap-2 backdrop-blur-sm">
                                    {t.projects.btn_more}
                                    <ChevronRight size={16} />
                                </button>
                                </div>
                            </div>
                        </div>
                        ))}
                    </div>
                    </div>
                </section>

                {/* Experience & Skills Split */}
                <section id="experience" className="py-20 bg-slate-50">
                    <div className="container mx-auto px-6">
                    <div className="flex flex-col lg:flex-row gap-16">
                        
                        {/* Experience Column */}
                        <div className="flex-1 reveal-on-scroll">
                        <h2 className="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3">
                            <Briefcase className="text-blue-600" />
                            {t.experience.title}
                        </h2>
                        <div className="space-y-12 border-l-2 border-slate-200 pl-8 ml-4">
                            {t.experience.items.map((job, idx) => (
                            <div key={idx} className="relative group">
                                <div className="absolute -left-[41px] bg-white border-4 border-blue-100 group-hover:border-blue-600 w-5 h-5 rounded-full transition-colors duration-300"></div>
                                <h3 className="text-xl font-bold text-slate-900">{job.role}</h3>
                                <div className="flex flex-col sm:flex-row sm:items-start gap-3 text-sm text-slate-500 mb-3 mt-1">
                                    {/* Company Logo & Link */}
                                    {job.logoUrl && job.webUrl ? (
                                        <a 
                                            href={job.webUrl} 
                                            target="_blank" 
                                            rel="noopener noreferrer"
                                            className="flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 transition-colors bg-white p-1 rounded-lg border border-slate-100 shadow-sm hover:shadow-md"
                                        >
                                            <img src={job.logoUrl} alt={job.company} className="h-8 w-8 object-contain" />
                                            {job.company}
                                            <ExternalLink size={14} />
                                        </a>
                                    ) : (
                                        <span className="font-semibold text-blue-600">{job.company}</span>
                                    )}
                                    
                                    <div className="flex flex-wrap items-center gap-2 mt-2 sm:mt-0">
                                        <span className="hidden sm:inline text-slate-300"></span>
                                        <span>{job.period}</span>
                                        <span className="hidden sm:inline text-slate-300"></span>
                                        <span className="flex items-center gap-1"><MapPin size={12}/> {job.location}</span>
                                    </div>
                                </div>
                                <p className="text-slate-600 mb-3">{job.desc}</p>
                                <ul className="space-y-1">
                                {job.achievements.map((ach, i) => (
                                    <li key={i} className="flex items-start gap-2 text-sm text-slate-500">
                                    <span className="mt-1.5 w-1.5 h-1.5 bg-emerald-400 rounded-full shrink-0"></span>
                                    {ach}
                                    </li>
                                ))}
                                </ul>
                            </div>
                            ))}
                        </div>
                        </div>

                        {/* Skills Column */}
                        <div className="flex-1 reveal-on-scroll">
                        
                        {/* --- SECCIN MOVIDA: CERTIFICACIONES PRIMERO --- */}
                        <div className="mb-12">
                            <h2 className="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3">
                                <Medal className="text-yellow-500" />
                                {t.certifications.title}
                            </h2>
                            <div className="grid grid-cols-1 gap-4">
                                {t.certifications.items.map((cert, idx) => (
                                    <div 
                                        key={idx} 
                                        onClick={() => setViewingFile({ type: 'pdf', url: cert.url, title: cert.name })}
                                        className="bg-white p-4 rounded-xl border-l-4 border-yellow-400 shadow-sm flex justify-between items-center hover:shadow-md transition-shadow cursor-pointer hover:bg-slate-50"
                                    >
                                        <div>
                                            <h4 className="font-bold text-slate-800">{cert.name}</h4>
                                            <div className="text-sm text-slate-500">{cert.issuer}</div>
                                        </div>
                                        <span className="text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded">{cert.year}</span>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* --- IDIOMAS --- */}
                        <div className="mb-12">
                            <LanguageCard languages={t.languages} title={t.languagesTitle} />
                        </div>

                        {/* --- HABILIDADES TCNICAS DESPUS --- */}
                        <h2 className="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3">
                            <Code className="text-emerald-600" />
                            {t.skills.title}
                        </h2>
                        <div className="space-y-8">
                            {t.skills.categories.map((cat, idx) => (
                            <div key={idx} className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                                <h4 className="font-bold text-slate-800 mb-4 flex items-center gap-2">
                                {idx === 0 ? <Briefcase size={18} className="text-amber-500"/> : null}
                                {idx === 1 ? <Code size={18} className="text-blue-500"/> : null}
                                {idx === 2 ? <Cpu size={18} className="text-purple-500"/> : null}
                                {idx === 3 ? <Calculator size={18} className="text-red-500"/> : null} 
                                {cat.name}
                                </h4>
                                <div className="flex flex-wrap gap-2">
                                {cat.items.map((item, i) => (
                                    <div key={i} className="px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 font-medium shadow-sm">
                                    {item}
                                    </div>
                                ))}
                                </div>
                            </div>
                            ))}
                        </div>

                        </div>
                    </div>
                    </div>
                </section>

                {/* Contact Section */}
                <section id="contact" className="py-24 bg-slate-900 text-white relative overflow-hidden">
                    {/* Decorative Circles */}
                    <div className="absolute top-0 right-0 w-64 h-64 bg-blue-500 rounded-full blur-[100px] opacity-20"></div>
                    <div className="absolute bottom-0 left-0 w-64 h-64 bg-emerald-500 rounded-full blur-[100px] opacity-20"></div>

                    <div className="container mx-auto px-6 relative z-10">
                    <div className="max-w-4xl mx-auto bg-white/5 backdrop-blur-lg border border-white/10 rounded-3xl p-8 md:p-12 text-center flex flex-col items-center gap-12 reveal-on-scroll">
                        
                        <div className="flex-1 space-y-6 w-full max-w-2xl">
                        <h2 className="text-3xl md:text-4xl font-bold mb-4">{t.contact.title}</h2>
                        <p className="text-slate-300 text-lg">{t.contact.text}</p>
                        
                        <div className="flex flex-col md:flex-row justify-center gap-8 mt-8">
                            <div className="flex items-center gap-4 justify-center">
                                <div className="w-10 h-10 rounded-full bg-blue-600/20 flex items-center justify-center text-blue-400">
                                    <Phone size={20} />
                                </div>
                                <div className="text-left">
                                    <div className="text-xs text-slate-400">{t.contact.phone}</div>
                                    <a href={`https://wa.me/${CONFIG.whatsappNumber}`} className="hover:text-blue-400 transition-colors">+{CONFIG.whatsappNumber}</a>
                                </div>
                            </div>

                            <div className="flex items-center gap-4 justify-center">
                                <div className="w-10 h-10 rounded-full bg-emerald-600/20 flex items-center justify-center text-emerald-400">
                                    <Mail size={20} />
                                </div>
                                <div className="text-left">
                                    <div className="text-xs text-slate-400">{t.contact.email}</div>
                                    <a href={`mailto:${CONFIG.email}`} className="hover:text-emerald-400 transition-colors">{CONFIG.email}</a>
                                </div>
                            </div>
                            
                            <div className="flex items-center gap-4 justify-center">
                                <div className="w-10 h-10 rounded-full bg-blue-700/20 flex items-center justify-center text-blue-300">
                                    <Linkedin size={20} />
                                </div>
                                <div className="text-left">
                                    <div className="text-xs text-slate-400">LinkedIn</div>
                                    <a href={CONFIG.linkedinProfile} target="_blank" rel="noopener noreferrer" className="hover:text-blue-300 transition-colors">
                                        {lang === 'es' ? 'Ver Perfil' : 'View Profile'}
                                    </a>
                                </div>
                            </div>
                        </div>
                        </div>

                    </div>
                    
                    <div className="flex flex-col items-center justify-center mt-12 pb-8 gap-4">
                        {/* Contador de Visitas */}
                        <div className="opacity-70 hover:opacity-100 transition-opacity" title="Total Visits">
                            <img 
                                src="https://hits.sh/marco-alulema-portfolio.vercel.app.svg?style=flat-square&label=VISITS&extraCount=500&color=0f172a&labelColor=2563eb" 
                                alt="Visit Counter" 
                            />
                        </div>

                        {/* Tu texto de Copyright original (MANTENIDO) */}
                        <div className="text-center text-slate-500 text-sm">
                            漏 2025 Marco Alulema Paredes. {lang === 'es' ? 'Todos los derechos reservados.' : 'All rights reserved.'}
                        </div>
                    </div>
                    </div>
                </section>
                </div>
            );
        }

        // Renderizado inicial
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Portfolio />);
    </script>
</body>
</html>
