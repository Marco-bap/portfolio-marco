<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marco Alulema - Professional Portfolio</title>
    
    <!-- Tailwind CSS (Estilos) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuraci贸n de Tailwind para animaciones personalizadas -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out forwards',
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'scroll': 'scroll 40s linear infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(40px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        scroll: { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-50%)' } }
                    }
                }
            }
        }
    </script>

    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .hover-pause:hover {
            animation-play-state: paused;
        }
        
        .mask-gradient {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }

        /* Markdown-ish styling for chat */
        .chat-message strong { font-weight: bold; color: #2563eb; }
        .chat-message ul { list-style-type: disc; margin-left: 1.5em; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONOS ---
        const Icon = ({ name, size = 24, className = "" }) => {
            useEffect(() => {
                if (window.lucide) { window.lucide.createIcons(); }
            }, [name]); 
            return <i data-lucide={name} style={{ width: size, height: size }} className={className}></i>;
        };

        const Download = (p) => <Icon name="download" {...p} />;
        const Mail = (p) => <Icon name="mail" {...p} />;
        const Linkedin = (p) => <Icon name="linkedin" {...p} />;
        const Globe = (p) => <Icon name="globe" {...p} />;
        const Cpu = (p) => <Icon name="cpu" {...p} />;
        const Code = (p) => <Icon name="code" {...p} />;
        const Database = (p) => <Icon name="database" {...p} />;
        const Award = (p) => <Icon name="award" {...p} />;
        const Briefcase = (p) => <Icon name="briefcase" {...p} />;
        const GraduationCap = (p) => <Icon name="graduation-cap" {...p} />;
        const MapPin = (p) => <Icon name="map-pin" {...p} />;
        const Phone = (p) => <Icon name="phone" {...p} />;
        const MessageCircle = (p) => <Icon name="message-circle" {...p} />;
        const Menu = (p) => <Icon name="menu" {...p} />;
        const X = (p) => <Icon name="x" {...p} />;
        const ChevronRight = (p) => <Icon name="chevron-right" {...p} />;
        const ExternalLink = (p) => <Icon name="external-link" {...p} />;
        const XCircle = (p) => <Icon name="x-circle" {...p} />;
        const Calendar = (p) => <Icon name="calendar" {...p} />;
        const CheckCircle2 = (p) => <Icon name="check-circle-2" {...p} />;
        const BrainCircuit = (p) => <Icon name="brain-circuit" {...p} />;
        const Factory = (p) => <Icon name="factory" {...p} />;
        const Settings = (p) => <Icon name="settings" {...p} />;
        const FileText = (p) => <Icon name="file-text" {...p} />;
        const Image = (p) => <Icon name="image" {...p} />;
        const Eye = (p) => <Icon name="eye" {...p} />;
        const User = (p) => <Icon name="user" {...p} />;
        const ArrowDown = (p) => <Icon name="arrow-down" {...p} />;
        const Medal = (p) => <Icon name="medal" {...p} />;
        const Sparkles = (p) => <Icon name="sparkles" {...p} />;
        const Send = (p) => <Icon name="send" {...p} />;
        const Loader2 = (p) => <Icon name="loader-2" {...p} />;
        const Bot = (p) => <Icon name="bot" {...p} />;
        const Calculator = (p) => <Icon name="calculator" {...p} />;

        // --- SHARED DATA (Logos que son iguales en ambos idiomas) ---
        const SHARED_SOFTWARE_LOGOS = [
            { name: "SolidWorks", url: "https://www.3ds.com/assets/3ds-navigation/Solidworks-logo_red.svg" },
            { name: "ROS", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Ros_logo.svg/2560px-Ros_logo.svg.png" },
            { name: "Siemens", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Siemens_AG_logo.svg/1280px-Siemens_AG_logo.svg.png" },
            { name: "AutoCAD", url: "https://upload.wikimedia.org/wikipedia/commons/6/61/AutoCAD-logo.png" },
            { name: "Ansys", url: "https://www.ansys.com/content/dam/product/workbench-vertical.png?wid=1200" },
            { name: "MATLAB", url: "https://1000logos.net/wp-content/uploads/2021/04/MATLAB-logo.png" },
            { name: "LabVIEW", url: "https://www.amplicon.com/cachedImages/ni-labview-software-logo_582739.webp" },
            { name: "FluidSIM", url: "https://i.ytimg.com/vi/jJjngIQycZk/maxresdefault.jpg" },
            { name: "Office", url: "https://upload.wikimedia.org/wikipedia/commons/a/a0/Microsoft_Office_Logo_%282019%29.png" },
            { name: "Proteus", url: "https://edasim.com/wp-content/uploads/2020/06/edasim-integrating-ideas-logo-proteus.png" },
            { name: "Abaqus", url: "https://static.wixstatic.com/media/1d5ca8_b4407ceab4c148638695d70526efd3ab~mv2.png/v1/fill/w_568,h_276,al_c,lg_1,q_85,enc_avif,quality_auto/1d5ca8_b4407ceab4c148638695d70526efd3ab~mv2.png" },
            { name: "Raspberry Pi", url: "https://companieslogo.com/img/orig/RPI.L_BIG-6ca2afa4.png?t=1724236366" },
            { name: "Ultimaker Cura", url: "https://itsmeadmade.com/wp-content/uploads/2023/04/Screenshot-2023-04-01-at-1.30.26-PM.png" },
            { name: "Visual Studio", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Visual_Studio_Icon_2022.svg/2048px-Visual_Studio_Icon_2022.svg.png" }
        ];

        // --- DATOS ---
        const PORTFOLIO_DATA = {
            es: {
                nav: {
                    aboutMe: "Sobre M铆", 
                    journey: "Trayectoria",
                    projects: "Proyectos",
                    experience: "Experiencia",
                    contact: "Contacto"
                },
                hero: {
                    role: "Ingeniero Mecatr贸nico & Experto en Gesti贸n de Riesgos",
                    subrole: "MSc. Mecatr贸nica (EU4M) | MSc. Gesti贸n de Riesgos",
                    desc: "Especializado en automatizaci贸n, rob贸tica y gesti贸n de riesgos con una perspectiva global adquirida en Ecuador, Espa帽a, Egipto y Alemania.",
                    btn_cv_es: "Descargar CV (Espa帽ol)",
                    btn_cv_en: "Descargar CV (Ingl茅s)",
                    btn_contact: "Cont谩ctame"
                },
                aboutMe: {
                    title: "Sobre M铆",
                    photoUrl: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=800",
                    bio: [
                        "Soy un Ingeniero Mecatr贸nico apasionado por la intersecci贸n entre la rob贸tica avanzada y la gesti贸n estrat茅gica de procesos. Mi carrera se ha caracterizado por la b煤squeda constante de desaf铆os internacionales que me han permitido crecer tanto t茅cnica como culturalmente.",
                        "Con experiencia pr谩ctica en Ecuador y formaci贸n especializada en Europa y frica, aporto una visi贸n 煤nica para resolver problemas complejos de ingenier铆a, siempre priorizando la calidad y la seguridad.",
                        "Actualmente, estoy enfocado en el desarrollo de soluciones de micromecatr贸nica y sistemas inteligentes, buscando oportunidades para aplicar mis conocimientos en entornos innovadores."
                    ]
                },
                journey: {
                    title: "Trayectoria Acad茅mica Global",
                    subtitle: "Formaci贸n internacional en instituciones de prestigio",
                    mapTitle: "Lugares de Estudio",
                    items: [
                        { 
                            id: 6, 
                            title: "Master Thesis Research", 
                            institution: "KIT (Karlsruhe Institute of Technology)", 
                            logoUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_KIT.svg/2560px-Logo_KIT.svg.png", 
                            webUrl: "https://www.kit.edu/",
                            location: "Karlsruhe, Alemania", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Investigaci贸n en una de las 100 mejores universidades del mundo (Top 100 Worldwide). Enfoque en sistemas micromecatr贸nicos avanzados.",
                            coords: { top: '22%', left: '50%' }
                        },
                        { 
                            id: 5, 
                            title: "MSc. Mecatr贸nica (EU4M)", 
                            institution: "Hochschule Karlsruhe (HKA)", 
                            logoUrl: "https://www.h-ka.de/fileadmin/Hochschule_Karlsruhe_HKA/Bilder_FK-MMT/IKKU/HKA_Logo_Gesamt-v-XL_RGB.png",
                            webUrl: "https://www.h-ka.de/",
                            location: "Karlsruhe, Alemania", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Tesis de Maestr铆a en Pernos con Sensores Integrados (Micromecatr贸nica).",
                            coords: { top: '23%', left: '49%' }
                        },
                        { 
                            id: 4, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "Nile University", 
                            logoUrl: "https://www.universitiesegypt.com/ImageHandler.ashx?Id=12749&SS=66653c2ed79506efaaa00f444dc8da47", 
                            webUrl: "https://nu.edu.eg/",
                            location: "Giza, Egipto", 
                            flag: "",
                            year: "2024", 
                            desc: "Programaci贸n avanzada de PLCs en FACT Centre (FESTO).",
                            coords: { top: '38%', left: '53%' }
                        },
                        { 
                            id: 3, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "Universidad de Oviedo", 
                            logoUrl: "https://www.uniovi.es/documents/39158/45652/Logo+Universidad+de+Oviedo.jpg/434cc26c-9dc5-d9af-cf45-a6df4e09685c?t=1677848763782",
                            webUrl: "https://www.uniovi.es/",
                            location: "Gij贸n, Espa帽a", 
                            flag: "",
                            year: "2023 - 2024", 
                            desc: "Rob贸tica antropom贸rfica, visi贸n artificial y control de sistemas complejos.",
                            coords: { top: '25%', left: '46%' }
                        },
                        { 
                            id: 2, 
                            title: "MSc. Gesti贸n de Riesgos", 
                            institution: "PUCE & UDLA", 
                            logoUrl: "https://puceinvestiga.puce.edu.ec/skin/headerImage/",
                            webUrl: "https://www.puce.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2021 - 2023", 
                            desc: "Especializaci贸n en Gesti贸n de Riesgos y Cadena de Suministro.",
                            coords: { top: '50%', left: '28%' }
                        },
                        { 
                            id: 1, 
                            title: "Ingenier铆a Mecatr贸nica", 
                            institution: "Universidad UTE", 
                            logoUrl: "https://ute.edu.ec/wp-content/uploads/2022/10/logo-ute-wp.png",
                            webUrl: "https://www.ute.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2012 - 2019", 
                            desc: "Base s贸lida en dise帽o mec谩nico, electr贸nica y control.",
                            coords: { top: '50%', left: '28%' }
                        },
                    ]
                },
                certifications: {
                    title: "Certificaciones & Licencias",
                    items: [
                        { name: "Certified SolidWorks Professional (CSWP)", issuer: "Dassault Syst猫mes", year: "2020", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "Scrum Fundamentals Certified (SFC)", issuer: "SCRUMstudy", year: "2021", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "ISO 9001:2015 Lead Auditor", issuer: "Bureau Veritas", year: "2019", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "Six Sigma Yellow Belt", issuer: "6SIGMAstudy", year: "2021", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "Gesti贸n de Proyectos con PMI", issuer: "Telef贸nica", year: "2018", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" }
                    ]
                },
                languagesTitle: "Idiomas",
                languages: [
                    { name: "Espa帽ol", level: "Nativo", percent: 100, flag: "" },
                    { name: "Ingl茅s", level: "C1 Avanzado", percent: 90, flag: "吼" },
                    { name: "Alem谩n", level: "A2 B谩sico", percent: 30, flag: "" }
                ],
                softwareLogos: SHARED_SOFTWARE_LOGOS,
                projects: {
                    title: "Proyectos Destacados",
                    subtitle: "Selecciona un proyecto para ver informaci贸n detallada y documentos",
                    btn_more: "Ver Detalles",
                    items: [
                        {
                            id: 0,
                            icon: Award,
                            title: "Tesis: Pernos con Sensores Integrados",
                            date: "03/2025 - 08/2025",
                            tech: "MATLAB, Sensores, Calibraci贸n, IPEK-KIT",
                            image: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Desarrollo de metodolog铆a de calibraci贸n para pernos inteligentes en KIT.",
                            fullDesc: "Tesis de Maestr铆a realizada en IPEK (KIT). El objetivo fue desarrollar una metodolog铆a de calibraci贸n robusta a la temperatura para nuevos pernos con sensores integrados. El trabajo incluy贸 el an谩lisis de conjuntos de datos experimentales (carga conc茅ntrica, flexi贸n, exc茅ntrica) para establecer un modelo de calibraci贸n mec谩nica base.",
                            features: [
                                "Calibraci贸n robusta a temperatura",
                                "Modelado de hist茅resis en MATLAB",
                                "An谩lisis de rendimiento bajo diversas cargas",
                                "Procesamiento de se帽ales de sensores"
                            ],
                            files: [
                                { type: 'pdf', title: 'Tesis_Completa.pdf', url: './Thesis_Marco_Alulema_EU4M.pdf' }
                            ]
                        },
                        {
                            id: 1,
                            icon: BrainCircuit,
                            title: "Sistema de Detecci贸n de Somnolencia",
                            date: "10/2024 - 12/2024",
                            tech: "Embedded Systems, Python, AI",
                            image: "https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Sistema en tiempo real para prevenir accidentes mediante an谩lisis facial.",
                            fullDesc: "Desarrollo de un prototipo de sistema de detecci贸n de somnolencia del conductor en tiempo real combinando sistemas embebidos y procesamiento de se帽ales. El proyecto utiliz贸 monitoreo basado en c谩mara para analizar se帽ales faciales y activar alertas.",
                            features: [
                                "An谩lisis facial en tiempo real (cierre de ojos, posici贸n de la cabeza, bostezos)",
                                "Alertas multimodales: auditivas, visuales y h谩pticas",
                                "Mecanismo de parada del veh铆culo simulado",
                                "Optimizaci贸n para hardware embebido"
                            ],
                            files: [
                                { type: 'image', title: 'Diagrama de Flujo', url: 'https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?auto=format&fit=crop&q=80&w=800' },
                                { type: 'image', title: 'Prototipo Final', url: 'https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&q=80&w=800' },
                                { type: 'pdf', title: 'Reporte T茅cnico.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf' }
                            ]
                        },
                        {
                            id: 2,
                            icon: Settings,
                            title: "Robot Antropom贸rfico de 3-DOF",
                            date: "01/2024 - 06/2024",
                            tech: "MATLAB, Robotics, Vision",
                            image: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Dise帽o y control de robot con visi贸n artificial y c谩lculo de trayectorias.",
                            fullDesc: "Realizado en la Universidad de Oviedo como parte del programa EU4M. Este proyecto se centr贸 en la creaci贸n de un robot antropom贸rfico de 3 grados de libertad (DOF).",
                            features: [
                                "C谩lculo de cinem谩tica directa e inversa",
                                "Integraci贸n de visi贸n artificial para detecci贸n de objetos",
                                "Planificaci贸n de trayectorias optimizada en MATLAB",
                                "Comunicaci贸n en tiempo real entre controlador y actuadores"
                            ],
                            files: [
                                { type: 'image', title: 'Dise帽o CAD', url: 'https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=800' }
                            ]
                        },
                        {
                            id: 3,
                            icon: Cpu,
                            title: "4-Axis Robot Trajectory Control",
                            date: "03/2024 - 05/2024",
                            tech: "Robotics, Kinematics, Simulation",
                            image: "https://images.unsplash.com/photo-1617529497471-9218633199c0?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "C谩lculo de trayectorias precisas usando cinem谩tica directa e inversa.",
                            fullDesc: "Proyecto enfocado en el c谩lculo matem谩tico y simulaci贸n de trayectorias precisas para un robot de 4 ejes, permitiendo un control de ruta eficiente dentro del espacio de trabajo para fines de automatizaci贸n.",
                            features: [
                                "Modelado matem谩tico del manipulador",
                                "Singularity resolution",
                                "Complex path simulation",
                                "Speed and acceleration optimization"
                            ],
                            files: []
                        },
                        {
                            id: 4,
                            icon: Award,
                            title: "Dispositivo de An谩lisis de Microestructuras",
                            date: "2019",
                            tech: "Patented, Mechatronics, HMI",
                            image: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Dispositivo port谩til patentado para analizar carbono en aceros.",
                            fullDesc: "Desarrollo de un dispositivo mecatr贸nico port谩til para analizar microestructuras de carbono en 24 materiales de acero y hierro fundido mediante superposici贸n de im谩genes. Novedad confirmada por b煤squedas de patentes WIPO y EPO. (SENADI-2019-43416)",
                            features: [
                                "Intuitive touch-screen interface",
                                "Portability for field work",
                                "Real-time comparative image analysis",
                                "Validation with 24 types of ferrous materials"
                            ],
                            files: [
                                { type: 'pdf', title: 'Patent Document.pdf', url: 'https://pdfobject.com/pdf/sample.pdf' }
                            ]
                        },
                        {
                            id: 5,
                            icon: Factory,
                            title: "Dise帽o de Planta de Ensamblaje",
                            date: "08/2021 - 11/2021",
                            tech: "Industrial Design, Logistics, Optimization",
                            image: "https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Dise帽o de layout para planta de ensamblaje de motocicletas.",
                            fullDesc: "Dise帽o del layout para toda una planta de ensamblaje de motocicletas, cubriendo desde la recepci贸n de material, ensamblaje, almacenamiento hasta la entrega del producto.",
                            features: [
                                "Optimizaci贸n de flujo de trabajo",
                                "Maximizaci贸n del uso del espacio",
                                "Planificaci贸n de zonas de seguridad",
                                "Integraci贸n de log铆stica de entrada y salida"
                            ],
                            files: []
                        },
                        {
                            id: 6,
                            icon: Code,
                            title: "Sistemas de Automatizaci贸n UVC",
                            date: "06/2020 - 08/2020",
                            tech: "IoT, Automation, Safety Sensors",
                            image: "https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Sistemas seguros para desinfecci贸n UVC en entornos sin personal.",
                            fullDesc: "Dise帽o de sistemas automatizados con sensores de presencia y temporizadores para activar y desactivar de forma segura la tecnolog铆a UVC en entornos libres de personal, optimizando ciclos de desinfecci贸n.",
                            features: [
                                "Sensores de presencia para paradas de emergencia",
                                "Control remoto inal谩mbrico",
                                "Temporizadores programables",
                                "Protocolos de seguridad redundantes"
                            ],
                            files: []
                        },
                        {
                            id: 7,
                            icon: Settings,
                            title: "High-Speed Cable Extruder Commissioning",
                            date: "02/2017 - 05/2017",
                            tech: "Commissioning, Industrial Machinery",
                            image: "https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Commissioning of a high-speed copper cable extruder.",
                            fullDesc: "Managed the commissioning of a high-speed copper cable extruder with adjustable diameter, integrating automatic cable storage and winding systems.",
                            features: [
                                "Improved production speed",
                                "Increased diameter precision",
                                "Reduced manual handling",
                                "Automatic winding system integration"
                            ],
                            files: []
                        }
                    ]
                },
                experience: {
                    title: "Experiencia Profesional",
                    items: [
                        {
                            role: "Jefe de Sistemas Integrados de Gesti贸n (HSEQ)",
                            company: "Unnomotors S.A.",
                            webUrl: "https://motor1.ec/",
                            logoUrl: "https://media.licdn.com/dms/image/v2/D4E0BAQFjzn0xdhaLMA/company-logo_200_200/company-logo_200_200/0/1689611759634/unnomotors_logo?e=2147483647&v=beta&t=RyrdSnIchLwqXQ8-azV34ryRAJI1EKgbD4VA_YqLmqs",
                            period: "07/2019 - 08/2023",
                            location: "Quito, Ecuador",
                            desc: "Lider茅 la gesti贸n de Calidad, Seguridad y Medio Ambiente. Coordin茅 la gesti贸n de riesgos y optimizaci贸n de flujos de trabajo.",
                            achievements: [
                                "Aseguramiento del cumplimiento normativo",
                                "Mejora de procesos operativos",
                                "Gesti贸n de matriz de riesgos corporativos",
                                "Liderazgo de equipos multidisciplinarios"
                            ]
                        },
                        {
                            role: "Ingeniero de Investigaci贸n",
                            company: "BioSicurezza EC",
                            period: "05/2020 - 12/2020",
                            location: "Quito, Ecuador",
                            desc: "Dise帽o de robots inal谩mbricos para saneamiento remoto y sistemas de control automatizado para activaci贸n UVC.",
                            achievements: [
                                "Desarrollo de robots m贸viles con c谩maras",
                                "Automatizaci贸n de ciclos de desinfecci贸n",
                                "Dise帽o de sistemas de seguridad para radiaci贸n UVC"
                            ]
                        },
                        {
                            role: "L铆der de Equipo, Procesos Industriales",
                            company: "Metaltronic S.A.",
                            webUrl: "https://www.metaltronicgroup.com/",
                            logoUrl: "https://www.metaltronicgroup.com/assets/img/metaltronic_groupactual.png",
                            period: "07/2017 - 07/2019",
                            location: "Quito, Ecuador",
                            desc: "Optimizaci贸n de procesos de producci贸n mediante an谩lisis de datos y planificaci贸n eficiente.",
                            achievements: [
                                "Estandarizaci贸n de procesos",
                                "An谩lisis de datos de producci贸n",
                                "Alineaci贸n con especificaciones t茅cnicas"
                            ]
                        },
                        {
                            role: "Asistente T茅cnico de Mantenimiento (Pasant铆a)",
                            company: "Conelsa S.A.",
                            webUrl: "https://conelsa.com.ec/",
                            logoUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTR-YkvDL6FjzSBvr72zx6DOVeKwSAHT6xf4w&s",
                            period: "11/2016 - 06/2017",
                            location: "Quito, Ecuador",
                            desc: "Gesti贸n de proyectos de mantenimiento y coordinaci贸n de ejecuci贸n t茅cnica.",
                            achievements: [
                                "Control de cronogramas de mantenimiento",
                                "Asignaci贸n de recursos",
                                "Mitigaci贸n de riesgos de inactividad"
                            ]
                        }
                    ]
                },
                skills: {
                    title: "Habilidades T茅cnicas",
                    categories: [
                        { name: "Gesti贸n de Proyectos", items: ["Microsoft Project", "Primavera P6", "SCRUM / KANBAN", "Gesti贸n de Riesgos", "ISO 9001:2015"] },
                        { name: "Programaci贸n", items: ["C/C++", "Python", "MATLAB", "Arduino", "PLC (LAD-FBD)"] },
                        { name: "Dise帽o & Simulaci贸n", items: ["SolidWorks", "AutoCAD", "Ansys", "Abaqus", "Proteus", "LabView", "FluidSim"] },
                        { name: "Software de C谩lculo", items: ["Matlab", "Simulink", "Simscape", "LabView"] },
                    ]
                },
                contact: {
                    title: "Contacto",
                    text: "驴Interesado en colaborar? Estoy disponible para nuevas oportunidades.",
                    phone: "Tel茅fono / WhatsApp",
                    email: "Correo",
                    location: "Ubicaci贸n Actual"
                }
            },
            en: {
                nav: {
                    aboutMe: "About Me", 
                    journey: "Journey",
                    projects: "Projects",
                    experience: "Experience",
                    contact: "Contact"
                },
                hero: {
                    role: "Mechatronics Engineer & Risk Management Expert",
                    subrole: "MSc. Mechatronics (EU4M) | MSc. Risk Management",
                    desc: "Specialized in automation, robotics, and risk management with a global perspective gained in Ecuador, Spain, Egypt, and Germany.",
                    btn_cv_es: "Download CV (Spanish)",
                    btn_cv_en: "Download CV (English)",
                    btn_contact: "Contact Me"
                },
                aboutMe: {
                    title: "About Me",
                    photoUrl: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=800",
                    bio: [
                        "I am a Mechatronics Engineer passionate about the intersection of advanced robotics and strategic process management. My career has been characterized by a constant search for international challenges that have allowed me to grow both technically and culturally.",
                        "With practical experience in Ecuador and specialized training in Europe and Africa, I bring a unique vision to solve complex engineering problems, always prioritizing quality and safety.",
                        "Currently, I am focused on developing micromechatronics solutions and intelligent systems, seeking opportunities to apply my knowledge in innovative environments."
                    ]
                },
                journey: {
                    title: "Global Academic Journey",
                    subtitle: "International training at prestigious institutions",
                    mapTitle: "Study Locations", 
                    items: [
                        { 
                            id: 6, // New KIT Item
                            title: "Master Thesis Research", 
                            institution: "KIT (Karlsruhe Institute of Technology)", 
                            logoUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_KIT.svg/2560px-Logo_KIT.svg.png",
                            webUrl: "https://www.kit.edu/",
                            location: "Karlsruhe, Germany", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Research at one of the Top 100 Universities worldwide. Focus on advanced micromechatronic systems.",
                            coords: { top: '22%', left: '50%' } 
                        },
                        { 
                            id: 5, 
                            title: "MSc. Mechatronics (EU4M)", 
                            institution: "Hochschule Karlsruhe (HKA)", 
                            logoUrl: "https://www.h-ka.de/fileadmin/Hochschule_Karlsruhe_HKA/Bilder_FK-MMT/IKKU/HKA_Logo_Gesamt-v-XL_RGB.png",
                            webUrl: "https://www.h-ka.de/",
                            location: "Karlsruhe, Germany", 
                            flag: "",
                            year: "2024 - 2025", 
                            desc: "Master's Thesis on Sensor-integrating Bolts (Micromechatronics). Cutting-edge research in intelligent fastening systems.",
                            coords: { top: '23%', left: '49%' }
                        },
                        { 
                            id: 4, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "Nile University", 
                            logoUrl: "https://www.universitiesegypt.com/ImageHandler.ashx?Id=12749&SS=66653c2ed79506efaaa00f444dc8da47", // Updated Nile Logo
                            webUrl: "https://nu.edu.eg/",
                            location: "Giza, Egypt", 
                            flag: "",
                            year: "2024", 
                            desc: "Advanced PLC Programming at FACT Centre (FESTO). Immersion in applied industrial automation.",
                            coords: { top: '38%', left: '53%' }
                        },
                        { 
                            id: 3, 
                            title: "Erasmus Mundus JMD (EU4M)", 
                            institution: "University of Oviedo", 
                            logoUrl: "https://www.uniovi.es/documents/39158/45652/Logo+Universidad+de+Oviedo.jpg/434cc26c-9dc5-d9af-cf45-a6df4e09685c?t=1677848763782",
                            webUrl: "https://www.uniovi.es/",
                            location: "Gij贸n, Spain", 
                            flag: "",
                            year: "2023 - 2024", 
                            desc: "Anthropomorphic robotics, artificial vision, and complex system control. Start of the EU4M joint master.",
                            coords: { top: '25%', left: '46%' }
                        },
                        { 
                            id: 2, 
                            title: "MSc. Risk Management & Diploma", 
                            institution: "PUCE & UDLA", 
                            logoUrl: "https://puceinvestiga.puce.edu.ec/skin/headerImage/",
                            webUrl: "https://www.puce.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2021 - 2023", 
                            desc: "Specialization in Risk Management and Supply Chain. Focus on industrial process optimization and safety.",
                            coords: { top: '50%', left: '28%' }
                        },
                        { 
                            id: 1, 
                            title: "Mechatronics Engineering", 
                            institution: "Universidad UTE", 
                            logoUrl: "https://ute.edu.ec/wp-content/uploads/2022/10/logo-ute-wp.png",
                            webUrl: "https://www.ute.edu.ec/",
                            location: "Quito, Ecuador", 
                            flag: "",
                            year: "2012 - 2019", 
                            desc: "Solid foundation in mechanical design, electronics, and control. Development of fundamental engineering projects.",
                            coords: { top: '50%', left: '28%' }
                        },
                    ]
                },
                certifications: {
                    title: "Certifications & Licenses",
                    items: [
                        { name: "Certified SolidWorks Professional (CSWP)", issuer: "Dassault Syst猫mes", year: "2020", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "Scrum Fundamentals Certified (SFC)", issuer: "SCRUMstudy", year: "2021", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "ISO 9001:2015 Lead Auditor", issuer: "Bureau Veritas", year: "2019", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "Six Sigma Yellow Belt", issuer: "6SIGMAstudy", year: "2021", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
                        { name: "Project Management with PMI", issuer: "Telef贸nica", year: "2018", url: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" }
                    ]
                },
                languagesTitle: "Languages", // Dynamic title for languages
                languages: [
                    { name: "Spanish", level: "Native", percent: 100, flag: "" },
                    { name: "English", level: "C1 Advanced", percent: 90, flag: "吼" },
                    { name: "German", level: "A2 Basic", percent: 30, flag: "" }
                ],
                softwareLogos: SHARED_SOFTWARE_LOGOS,
                projects: {
                    title: "Featured Projects",
                    subtitle: "Select a project to view detailed information and documents",
                    btn_more: "View Details",
                    items: [
                        {
                            id: 0,
                            icon: Award,
                            title: "Master Thesis: Sensor-integrating Bolts",
                            date: "03/2025 - 08/2025",
                            tech: "MATLAB, Sensors, Calibration, IPEK-KIT",
                            image: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Development of calibration methodology for smart bolts at KIT.",
                            fullDesc: "Master's Thesis conducted at IPEK (KIT). The goal was to develop a comprehensive, temperature-robust calibration methodology for novel sensor-integrating bolts. The project involved analyzing pre-existing experimental datasets (concentric, bending, eccentric loading) to create a baseline mechanical calibration model.",
                            features: [
                                "Temperature-robust calibration",
                                "Hysteresis modeling in MATLAB",
                                "Performance analysis under various loads",
                                "Sensor data processing"
                            ],
                            files: [
                                { type: 'pdf', title: 'Thesis_Marco_Alulema_EU4M.pdf', url: './Thesis_Marco_Alulema_EU4M.pdf' }
                            ]
                        },
                        {
                            id: 1,
                            icon: BrainCircuit,
                            title: "Driver Drowsiness Detection System",
                            date: "10/2024 - 12/2024",
                            tech: "Embedded Systems, Python, AI",
                            image: "https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Real-time system using computer vision to prevent accidents.",
                            fullDesc: "Developed a prototype real-time driver drowsiness detection system combining embedded systems and signal processing. The project utilized camera-based monitoring to analyze facial cues.",
                            features: [
                                "Real-time facial analysis (eye closure, head position, yawning)",
                                "Multi-modal alerts (auditory, visual, haptic)",
                                "Vehicle stopping mechanism simulation",
                                "Embedded hardware optimization"
                            ],
                            files: [
                                { type: 'image', title: 'Flow Diagram', url: 'https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?auto=format&fit=crop&q=80&w=800' },
                                { type: 'image', title: 'Final Prototype', url: 'https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&q=80&w=800' },
                                { type: 'pdf', title: 'Technical Report.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf' }
                            ]
                        },
                        {
                            id: 2,
                            icon: Settings,
                            title: "3-DOF Anthropomorphic Robot",
                            date: "01/2024 - 06/2024",
                            tech: "MATLAB, Robotics, Vision",
                            image: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Design and control of a 3-DOF robot with artificial vision.",
                            fullDesc: "Conducted at the University of Oviedo as part of the EU4M Master's program. This project focused on creating a 3-degrees-of-freedom (DOF) anthropomorphic robot.",
                            features: [
                                "Forward and inverse kinematics calculation",
                                "Artificial vision integration for object detection",
                                "Trajectory planning optimized in MATLAB",
                                "Real-time communication"
                            ],
                            files: [
                                { type: 'image', title: 'CAD Design', url: 'https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=800' }
                            ]
                        },
                        {
                            id: 3,
                            icon: Cpu,
                            title: "4-Axis Robot Trajectory Control",
                            date: "03/2024 - 05/2024",
                            tech: "Robotics, Kinematics, Simulation",
                            image: "https://images.unsplash.com/photo-1617529497471-9218633199c0?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Precise trajectory calculation using forward and inverse kinematics.",
                            fullDesc: "This project focused on calculating precise trajectories for a 4-axis robot using forward and inverse kinematics, enabling efficient path control within the workspace for automation purposes.",
                            features: [
                                "Mathematical modeling of the manipulator",
                                "Singularity resolution",
                                "Complex path simulation",
                                "Speed and acceleration optimization"
                            ],
                            files: []
                        },
                        {
                            id: 4,
                            icon: Award,
                            title: "Microstructure Analysis Device",
                            date: "2019",
                            tech: "Patented, Mechatronics, HMI",
                            image: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Portable patented device to analyze carbon in steels.",
                            fullDesc: "Developed a portable mechatronic device to analyze carbon microstructures in 24 steel and cast iron materials using image overlay. Novelty confirmed through WIPO and EPO patent searches. (SENADI-2019-43416)",
                            features: [
                                "Intuitive touch-screen interface",
                                "Portability for field work",
                                "Real-time comparative image analysis",
                                "Validation with 24 types of ferrous materials"
                            ],
                            files: [
                                { type: 'pdf', title: 'Patent Document.pdf', url: 'https://pdfobject.com/pdf/sample.pdf' }
                            ]
                        },
                        {
                            id: 5,
                            icon: Factory,
                            title: "Assembly Plant Layout Design",
                            date: "08/2021 - 11/2021",
                            tech: "Industrial Design, Logistics, Optimization",
                            image: "https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Layout design for a motorcycle assembly plant.",
                            fullDesc: "Designed the layout for the entire motorcycle assembly plant, covering material reception, assembly, storage, and product delivery.",
                            features: [
                                "Workflow optimization",
                                "Space usage maximization",
                                "Safety zone planning",
                                "Inbound/outbound logistics integration"
                            ],
                            files: []
                        },
                        {
                            id: 6,
                            icon: Code,
                            title: "Sistemas de Automatizaci贸n UVC",
                            date: "06/2020 - 08/2020",
                            tech: "IoT, Automation, Safety Sensors",
                            image: "https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Sistemas seguros para desinfecci贸n UVC en entornos sin personal.",
                            fullDesc: "Dise帽o de sistemas automatizados con sensores de presencia y temporizadores para activar y desactivar de forma segura la tecnolog铆a UVC en entornos libres de personal, optimizando ciclos de desinfecci贸n.",
                            features: [
                                "Sensores de presencia para paradas de emergencia",
                                "Control remoto inal谩mbrico",
                                "Temporizadores programables",
                                "Protocolos de seguridad redundantes"
                            ],
                            files: []
                        },
                        {
                            id: 7,
                            icon: Settings,
                            title: "High-Speed Cable Extruder Commissioning",
                            date: "02/2017 - 05/2017",
                            tech: "Commissioning, Industrial Machinery",
                            image: "https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&q=80&w=800",
                            shortDesc: "Commissioning of a high-speed copper cable extruder.",
                            fullDesc: "Managed the commissioning of a high-speed copper cable extruder with adjustable diameter, integrating automatic cable storage and winding systems.",
                            features: [
                                "Improved production speed",
                                "Increased diameter precision",
                                "Reduced manual handling",
                                "Automatic winding system integration"
                            ],
                            files: []
                        }
                    ]
                },
                experience: {
                    title: "Professional Experience",
                    items: [
                        {
                            role: "Head of Integrated Management Systems (HSEQ)",
                            company: "Unnomotors S.A.",
                            webUrl: "https://motor1.ec/",
                            logoUrl: "https://media.licdn.com/dms/image/v2/D4E0BAQFjzn0xdhaLMA/company-logo_200_200/company-logo_200_200/0/1689611759634/unnomotors_logo?e=2147483647&v=beta&t=RyrdSnIchLwqXQ8-azV34ryRAJI1EKgbD4VA_YqLmqs",
                            period: "07/2019 - 08/2023",
                            location: "Quito, Ecuador",
                            desc: "Led Quality, Safety, and Environmental management. Coordinated risk management and workflow optimization.",
                            achievements: [
                                "Regulatory compliance assurance",
                                "Operational process improvement",
                                "Corporate risk matrix management",
                                "Multidisciplinary team leadership"
                            ]
                        },
                        {
                            role: "Research Engineer",
                            company: "BioSicurezza EC",
                            period: "05/2020 - 12/2020",
                            location: "Quito, Ecuador",
                            desc: "Designed wireless robots for remote sanitation and automated control systems for UVC activation.",
                            achievements: [
                                "Mobile robot development with cameras",
                                "Disinfection cycle automation",
                                "UVC radiation safety system design"
                            ]
                        },
                        {
                            role: "Team Leader, Industrial Processes",
                            company: "Metaltronic S.A.",
                            webUrl: "https://www.metaltronicgroup.com/",
                            logoUrl: "https://www.metaltronicgroup.com/assets/img/metaltronic_groupactual.png",
                            period: "07/2017 - 07/2019",
                            location: "Quito, Ecuador",
                            desc: "Optimized production processes through data analysis and efficient planning.",
                            achievements: [
                                "Process standardization",
                                "Production data analysis",
                                "Alignment with technical specifications"
                            ]
                        },
                        {
                            role: "Maintenance Technical Assistant (Internship)",
                            company: "Conelsa S.A.",
                            webUrl: "https://conelsa.com.ec/",
                            logoUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTR-YkvDL6FjzSBvr72zx6DOVeKwSAHT6xf4w&s",
                            period: "11/2016 - 06/2017",
                            location: "Quito, Ecuador",
                            desc: "Managed maintenance projects and coordinated technical execution.",
                            achievements: [
                                "Maintenance schedule control",
                                "Resource allocation",
                                "Downtime risk mitigation"
                            ]
                        }
                    ]
                },
                skills: {
                    title: "Technical Skills",
                    categories: [
                        { name: "Project Management", items: ["Microsoft Project", "Primavera P6", "SCRUM / KANBAN", "Risk Management", "ISO 9001:2015"] },
                        { name: "Programming", items: ["C/C++", "Python", "MATLAB", "Arduino", "PLC (LAD-FBD)"] },
                        { name: "Design & Simulation", items: ["SolidWorks", "AutoCAD", "Ansys", "Abaqus", "Proteus", "LabView", "FluidSim"] },
                        { name: "Calculation Software", items: ["Matlab", "Simulink", "Simscape", "LabView"] },
                    ]
                },
                contact: {
                    title: "Contact",
                    text: "Interested in collaborating? I am available for new opportunities.",
                    phone: "Phone / WhatsApp",
                    email: "Email",
                    location: "Current Location"
                }
            }
        };

        const WhatsAppButton = () => (
        <a 
            href="https://wa.me/4915210587024" 
            target="_blank" 
            rel="noopener noreferrer"
            className="fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-all hover:scale-110 flex items-center justify-center"
            aria-label="Contact on WhatsApp"
        >
            <MessageCircle size={32} />
        </a>
        );

        // --- COMPONENTE DE VISOR DE ARCHIVOS ---
        const FileViewerOverlay = ({ file, onClose }) => {
            if (!file) return null;

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-sm animate-fade-in p-4">
                    {/* Bot贸n Cerrar */}
                    <button 
                        onClick={onClose}
                        className="absolute top-4 right-4 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-2 transition-colors z-50"
                    >
                        <X size={32} />
                    </button>

                    <div className="w-full max-w-6xl h-full flex flex-col items-center justify-center">
                        {file.type === 'image' ? (
                            <img 
                                src={file.url} 
                                alt={file.title} 
                                className="max-h-[85vh] max-w-full object-contain rounded-md shadow-2xl animate-scale-up"
                            />
                        ) : (
                            <div className="w-full h-[85vh] bg-white rounded-lg overflow-hidden shadow-2xl animate-scale-up relative">
                                <div className="absolute inset-0 flex items-center justify-center text-slate-400">
                                    <div className="text-center">
                                        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-slate-400 mx-auto mb-4"></div>
                                        <p>Cargando documento...</p>
                                    </div>
                                </div>
                                {/* Usamos iframe para mostrar PDF en l铆nea */}
                                <iframe 
                                    src={file.url} 
                                    className="w-full h-full relative z-10" 
                                    title={file.title}
                                ></iframe>
                            </div>
                        )}
                        <div className="mt-4 text-center">
                            <h3 className="text-white text-xl font-bold">{file.title}</h3>
                            <p className="text-white/60 text-sm uppercase tracking-widest">{file.type === 'image' ? 'Imagen' : 'Documento PDF'}</p>
                        </div>
                    </div>
                </div>
            );
        };

        // --- COMPONENTE: CINTA DE SOFTWARE ---
        const SoftwareTicker = ({ logos }) => {
            // Duplicamos la lista para crear un efecto de loop infinito sin cortes
            const duplicatedLogos = [...logos, ...logos];

            return (
                <div className="w-full bg-slate-100 py-4 border-y border-slate-200 overflow-hidden relative">
                    <div className="mask-gradient absolute inset-0 z-10 pointer-events-none"></div>
                    <div className="flex w-[200%] animate-scroll hover-pause">
                        {duplicatedLogos.map((logo, index) => (
                            <div key={index} className="flex-shrink-0 w-[200px] flex justify-center items-center px-8 grayscale hover:grayscale-0 transition-all duration-300 opacity-60 hover:opacity-100 transform hover:scale-110">
                                <img src={logo.url} alt={logo.name} className="h-10 w-auto object-contain" title={logo.name} />
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // --- COMPONENTE: TARJETA DE IDIOMAS ---
        const LanguageCard = ({ languages, title }) => {
            return (
                <div className="bg-white p-8 rounded-2xl shadow-md border border-slate-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <h3 className="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                        <Globe className="text-blue-500" />
                        {title}
                    </h3>
                    <div className="space-y-6">
                        {languages.map((lang, idx) => (
                            <div key={idx}>
                                <div className="flex justify-between items-end mb-2">
                                    <div className="flex items-center gap-2 font-bold text-slate-700">
                                        <span className="text-2xl">{lang.flag}</span> {lang.name}
                                    </div>
                                    <span className="text-sm font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded">{lang.level}</span>
                                </div>
                                <div className="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden">
                                    <div 
                                        className="h-full bg-gradient-to-r from-blue-500 to-emerald-400 rounded-full" 
                                        style={{ width: `${lang.percent}%` }}
                                    ></div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // --- GEMINI CHAT WIDGET ---
        const GeminiChatWidget = ({ lang }) => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([]);
            const [input, setInput] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            const messagesEndRef = useRef(null);
            
            const apiKey = ""; // API Key injected by environment

            const toggleChat = () => setIsOpen(!isOpen);

            // Initial greeting based on language
            useEffect(() => {
                const initialMsg = lang === 'es' 
                    ? "隆Hola! Soy el asistente virtual de Marco. Preg煤ntame sobre su experiencia, proyectos o habilidades."
                    : "Hi! I'm Marco's virtual assistant. Ask me about his experience, projects, or skills.";
                
                if (messages.length === 0) {
                    setMessages([{ role: 'model', text: initialMsg }]);
                }
            }, [lang]);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            useEffect(() => {
                scrollToBottom();
            }, [messages, isOpen]);

            const handleSend = async (e) => {
                e.preventDefault();
                if (!input.trim() || isLoading) return;

                const userMsg = input.trim();
                setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setInput('');
                setIsLoading(true);

                try {
                    // System prompt with context from PORTFOLIO_DATA
                    const contextData = JSON.stringify(PORTFOLIO_DATA[lang]);
                    const systemPrompt = `You are an AI assistant representing Marco Alulema for his professional portfolio website. 
                    Be helpful, professional, and concise. 
                    Answer questions based STRICTLY on the following JSON data about Marco: ${contextData}.
                    If the answer is not in the data, politely say you don't have that information.
                    The user is currently browsing in ${lang === 'es' ? 'Spanish' : 'English'}, so please respond in that language.`;

                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userMsg }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    const data = await response.json();
                    
                    if (data.error) {
                        throw new Error(data.error.message);
                    }

                    const aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't process that.";
                    setMessages(prev => [...prev, { role: 'model', text: aiResponse }]);

                } catch (error) {
                    console.error("Gemini API Error:", error);
                    setMessages(prev => [...prev, { role: 'model', text: lang === 'es' ? "Lo siento, hubo un error al conectar. Intenta de nuevo." : "Sorry, connection error. Please try again." }]);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <>
                    {/* Chat Trigger Button */}
                    <button 
                        onClick={toggleChat}
                        className={`fixed bottom-24 right-6 z-50 p-4 rounded-full shadow-lg transition-all hover:scale-110 flex items-center justify-center ${isOpen ? 'bg-red-500 text-white' : 'bg-blue-600 text-white animate-bounce-slow'}`}
                        title={lang === 'es' ? "Chatear con IA" : "Chat with AI"}
                    >
                        {isOpen ? <X size={28} /> : <Bot size={28} />}
                    </button>

                    {/* Chat Window */}
                    {isOpen && (
                        <div className="fixed bottom-40 right-6 z-50 w-80 md:w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden flex flex-col animate-fade-in-up max-h-[500px]">
                            <div className="bg-slate-900 text-white p-4 flex justify-between items-center">
                                <div className="flex items-center gap-2">
                                    <Sparkles size={18} className="text-yellow-400" />
                                    <h3 className="font-bold">Marco's AI Assistant</h3>
                                </div>
                                <span className="text-xs bg-blue-600 px-2 py-1 rounded">Beta</span>
                            </div>
                            
                            <div className="flex-1 overflow-y-auto p-4 bg-slate-50 space-y-4 min-h-[300px]">
                                {messages.map((msg, idx) => (
                                    <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                        <div className={`max-w-[80%] p-3 rounded-2xl text-sm chat-message ${
                                            msg.role === 'user' 
                                            ? 'bg-blue-600 text-white rounded-tr-none' 
                                            : 'bg-white text-slate-700 border border-slate-200 rounded-tl-none shadow-sm'
                                        }`}>
                                            {msg.text}
                                        </div>
                                    </div>
                                ))}
                                {isLoading && (
                                    <div className="flex justify-start">
                                        <div className="bg-white p-3 rounded-2xl rounded-tl-none border border-slate-200 shadow-sm">
                                            <Loader2 size={20} className="animate-spin text-blue-500" />
                                        </div>
                                    </div>
                                )}
                                <div ref={messagesEndRef} />
                            </div>

                            <form onSubmit={handleSend} className="p-3 bg-white border-t border-slate-100 flex gap-2">
                                <input 
                                    type="text" 
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    placeholder={lang === 'es' ? "Escribe tu pregunta..." : "Ask a question..."}
                                    className="flex-1 bg-slate-100 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                                <button 
                                    type="submit" 
                                    disabled={isLoading || !input.trim()}
                                    className="p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 transition-colors"
                                >
                                    <Send size={18} />
                                </button>
                            </form>
                        </div>
                    )}
                </>
            );
        };

        // --- MODAL COMPONENT ---
        const ProjectModal = ({ project, onClose, lang }) => {
            const [viewingFile, setViewingFile] = useState(null);
            const [summary, setSummary] = useState(null);
            const [isSummarizing, setIsSummarizing] = useState(false);
            const apiKey = ""; // API Key

            // Function to generate summary using Gemini
            const handleSummarize = async () => {
                if (summary) return; // Don't regenerate if already exists
                setIsSummarizing(true);
                try {
                    const prompt = `Summarize this project description into a very concise 2-sentence "elevator pitch" that highlights the technical impact and result. Project: ${project.title}. Description: ${project.fullDesc}. Features: ${project.features.join(', ')}. Respond in ${lang === 'es' ? 'Spanish' : 'English'}.`;
                    
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: prompt }] }]
                        })
                    });
                    
                    const data = await response.json();
                    const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                    if(text) setSummary(text);

                } catch (e) {
                    console.error("Summary failed", e);
                } finally {
                    setIsSummarizing(false);
                }
            };

            if (!project) return null;

            return (
                <>
                    {/* Visor de Archivos (Overlay encima del modal) */}
                    {viewingFile && (
                        <FileViewerOverlay 
                            file={viewingFile} 
                            onClose={() => setViewingFile(null)} 
                        />
                    )}

                    <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-fade-in">
                        <div className="bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto relative animate-scale-up">
                            <button 
                                onClick={onClose}
                                className="absolute top-4 right-4 text-slate-400 hover:text-red-500 transition-colors bg-white rounded-full p-1 z-10"
                            >
                                <XCircle size={32} />
                            </button>

                            <div className="p-6 md:p-8">
                                <div className="flex flex-col md:flex-row md:items-center gap-4 mb-6">
                                    <div className="p-4 bg-blue-100 text-blue-600 rounded-xl w-fit">
                                        <project.icon size={32} />
                                    </div>
                                    <div>
                                        <div className="flex items-center gap-2 text-sm font-bold text-slate-500 mb-1">
                                            <Calendar size={14} />
                                            {project.date}
                                        </div>
                                        <h3 className="text-2xl md:text-3xl font-bold text-slate-900">{project.title}</h3>
                                    </div>
                                </div>

                                {/* GEMINI SUMMARY BUTTON */}
                                <div className="mb-6">
                                    {!summary ? (
                                        <button 
                                            onClick={handleSummarize}
                                            disabled={isSummarizing}
                                            className="text-sm bg-purple-50 text-purple-700 px-4 py-2 rounded-lg border border-purple-100 hover:bg-purple-100 transition-colors flex items-center gap-2 font-semibold"
                                        >
                                            {isSummarizing ? <Loader2 size={16} className="animate-spin"/> : <Sparkles size={16} />}
                                            {lang === 'es' ? 'Generar Resumen IA (Elevator Pitch)' : 'Generate AI Summary (Elevator Pitch)'}
                                        </button>
                                    ) : (
                                        <div className="bg-purple-50 p-4 rounded-lg border border-purple-100 animate-fade-in">
                                            <div className="flex items-center gap-2 text-purple-800 font-bold mb-1 text-xs uppercase tracking-wider">
                                                <Sparkles size={12} /> Gemini AI Summary
                                            </div>
                                            <p className="text-purple-900 text-sm italic">"{summary}"</p>
                                        </div>
                                    )}
                                </div>

                                <div className="space-y-8">
                                    <div>
                                        <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-2">
                                            {lang === 'es' ? 'Descripci贸n del Proyecto' : 'Project Description'}
                                        </h4>
                                        <p className="text-slate-700 leading-relaxed text-lg">
                                            {project.fullDesc}
                                        </p>
                                    </div>

                                    {/* --- NUEVA SECCIN: GALERA / ARCHIVOS --- */}
                                    {project.files && project.files.length > 0 && (
                                        <div className="bg-slate-50 p-6 rounded-xl border border-slate-100">
                                            <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2">
                                                <Image size={16} />
                                                {lang === 'es' ? 'Galer铆a & Documentos' : 'Gallery & Documents'}
                                            </h4>
                                            
                                            <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
                                                {project.files.map((file, idx) => (
                                                    <div 
                                                        key={idx}
                                                        onClick={() => setViewingFile(file)}
                                                        className="group cursor-pointer relative bg-white border border-slate-200 rounded-lg overflow-hidden hover:shadow-md hover:border-blue-400 transition-all aspect-square flex flex-col"
                                                    >
                                                        {file.type === 'image' ? (
                                                            <div className="flex-1 overflow-hidden relative">
                                                                <img src={file.url} alt={file.title} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                                                                <div className="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                                                                    <Eye className="text-white drop-shadow-md" size={24} />
                                                                </div>
                                                            </div>
                                                        ) : (
                                                            <div className="flex-1 flex flex-col items-center justify-center bg-slate-50 text-slate-400 group-hover:bg-red-50 group-hover:text-red-500 transition-colors">
                                                                <FileText size={32} className="mb-2" />
                                                                <span className="text-xs font-bold uppercase">PDF</span>
                                                            </div>
                                                        )}
                                                        <div className="p-2 text-xs font-medium text-slate-700 truncate bg-white border-t border-slate-100">
                                                            {file.title}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    <div>
                                        <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">
                                            {lang === 'es' ? 'Caracter铆sticas & Resultados' : 'Features & Results'}
                                        </h4>
                                        <ul className="space-y-3">
                                            {project.features.map((feature, idx) => (
                                                <li key={idx} className="flex items-start gap-3 text-slate-700">
                                                    <CheckCircle2 className="text-emerald-500 shrink-0 mt-1" size={18} />
                                                    <span>{feature}</span>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>

                                    <div>
                                        <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">
                                            {lang === 'es' ? 'Tecnolog铆as' : 'Technologies'}
                                        </h4>
                                        <div className="flex flex-wrap gap-2">
                                            {project.tech.split(',').map((t, i) => (
                                                <span key={i} className="px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-sm font-medium border border-slate-200">
                                                    {t.trim()}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                <div className="mt-8 pt-6 border-t border-slate-100 flex justify-end">
                                    <button 
                                        onClick={onClose}
                                        className="px-6 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors"
                                    >
                                        {lang === 'es' ? 'Cerrar' : 'Close'}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </>
            );
        };

        // --- COMPONENTE MAPA ---
        const SimpleWorldMap = ({ items, onPinClick, title }) => {
            return (
                <div className="relative w-full aspect-[1.8] bg-slate-100 rounded-3xl border border-slate-200 overflow-hidden shadow-inner group">
                    
                    <div className="absolute top-4 left-0 right-0 text-center z-20 pointer-events-none">
                        <span className="bg-white/80 backdrop-blur-sm px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest text-slate-500 shadow-sm border border-white">
                            {title}
                        </span>
                    </div>

                    {/* Mapa Base SVG (Silueta simple del mundo) */}
                    <div className="absolute inset-0 opacity-40 grayscale group-hover:grayscale-0 transition-all duration-700">
                        <img 
                            src="https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg" 
                            alt="World Map" 
                            className="w-full h-full object-cover"
                        />
                    </div>
                    
                    {/* Overlay gradiente para mejor lectura */}
                    <div className="absolute inset-0 bg-blue-900/5 mix-blend-overlay"></div>

                    {/* Pines de Ubicaci贸n */}
                    {items.map((item) => (
                        <div 
                            key={item.id}
                            onClick={() => onPinClick(item.id)}
                            className="absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2 group/pin z-10"
                            style={{ top: item.coords?.top || '50%', left: item.coords?.left || '50%' }}
                        >
                            {/* C铆rculo pulsante (Highlight) */}
                            <div className="w-4 h-4 bg-blue-500 rounded-full animate-ping absolute inset-0 opacity-75"></div>
                            {/* Pin real */}
                            <div className="w-4 h-4 bg-blue-600 border-2 border-white rounded-full shadow-lg relative z-10 hover:scale-125 transition-transform duration-200"></div>
                            
                            {/* Tooltip */}
                            <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover/pin:opacity-100 transition-opacity whitespace-nowrap pointer-events-none">
                                {item.location}
                            </div>
                        </div>
                    ))}
                </div>
            );
        };


        function Portfolio() {
            // Estado para idioma por defecto en Ingl茅s ('en')
            const [lang, setLang] = useState('en'); 
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            // El splash es verdadero al inicio
            const [showSplash, setShowSplash] = useState(true);
            const [activeNode, setActiveNode] = useState(null);
            const [selectedProject, setSelectedProject] = useState(null);
            
            // Estado para el visor de archivos principal (para certificaciones)
            const [viewingFile, setViewingFile] = useState(null);

            // Refs para hacer scroll a los items de la trayectoria
            const journeyRefs = useRef({});

            const t = PORTFOLIO_DATA[lang] || PORTFOLIO_DATA['es'];

            const toggleLang = () => {
                setLang(prev => prev === 'es' ? 'en' : 'es');
            };

            // Funci贸n para manejar el clic en el mapa
            const handleMapPinClick = (id) => {
                const element = journeyRefs.current[id];
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    // Opcional: a帽adir efecto de resaltado temporal
                    element.classList.add('ring-2', 'ring-blue-500');
                    setTimeout(() => element.classList.remove('ring-2', 'ring-blue-500'), 1500);
                }
            };

            // Detectar scroll para cerrar splash y dejar en ingl茅s
            useEffect(() => {
                const handleScrollOrInteraction = () => {
                    if (showSplash) {
                        setShowSplash(false);
                    }
                };

                // A帽adimos listeners para scroll y rueda del rat贸n
                window.addEventListener('scroll', handleScrollOrInteraction);
                window.addEventListener('wheel', handleScrollOrInteraction);
                
                return () => {
                    window.removeEventListener('scroll', handleScrollOrInteraction);
                    window.removeEventListener('wheel', handleScrollOrInteraction);
                };
            }, [showSplash]);

            // --- ANIMACIN AL HACER SCROLL (INTERSECTION OBSERVER) ---
            useEffect(() => {
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                        }
                    });
                }, observerOptions);

                // Seleccionamos todos los elementos con la clase 'reveal-on-scroll'
                const elements = document.querySelectorAll('.reveal-on-scroll');
                elements.forEach(el => observer.observe(el));

                return () => {
                    elements.forEach(el => observer.unobserve(el));
                };
            }, [lang]); 


            useEffect(() => {
                if (selectedProject || showSplash) {
                    document.body.style.overflow = selectedProject || showSplash ? 'hidden' : 'unset';
                    // Permitimos scroll en el cuerpo si es solo el splash para detectar el evento
                    if(showSplash) document.body.style.overflow = 'unset'; 
                } else {
                    document.body.style.overflow = 'unset';
                }
            }, [selectedProject, showSplash]);

            if (!t) return null; // Safety check

            return (
                <div className="min-h-screen bg-slate-50 text-slate-800 font-sans selection:bg-blue-200 relative">
                
                {/* --- SPLASH SCREEN (OVERLAY) --- */}
                <div className={`fixed inset-0 z-[100] bg-slate-900 flex flex-col items-center justify-center text-white p-4 transition-opacity duration-700 ease-in-out ${showSplash ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'}`}>
                    <h1 className="text-4xl md:text-6xl font-bold mb-8 text-center animate-fade-in-up">Marco Alulema Paredes</h1>
                    <p className="text-xl mb-12 text-blue-200">Ingeniero Mecatr贸nico | Mechatronics Engineer </p>
                    
                    <div className="flex gap-6 mb-12">
                        <button 
                            onClick={() => { setLang('es'); setShowSplash(false); }}
                            className="px-8 py-4 bg-transparent border-2 border-blue-500 hover:bg-blue-500 hover:text-white rounded-lg text-xl transition-all duration-300 transform hover:-translate-y-1"
                        >
                            Espa帽ol
                        </button>
                        <button 
                            onClick={() => { setLang('en'); setShowSplash(false); }}
                            className="px-8 py-4 bg-transparent border-2 border-emerald-500 hover:bg-emerald-500 hover:text-white rounded-lg text-xl transition-all duration-300 transform hover:-translate-y-1"
                        >
                            English
                        </button>
                    </div>
                    
                    <div className="animate-bounce text-slate-500 flex flex-col items-center gap-2">
                        <span className="text-sm">Scroll to enter (English Default)</span>
                        <ArrowDown size={24} />
                    </div>
                </div>

                {/* --- GEMINI CHAT WIDGET --- */}
                <GeminiChatWidget lang={lang} />

                <WhatsAppButton />

                {/* Main File Viewer Overlay (para certificaciones) */}
                {viewingFile && (
                    <FileViewerOverlay 
                        file={viewingFile} 
                        onClose={() => setViewingFile(null)} 
                    />
                )}

                {/* Project Modal */}
                {selectedProject && (
                    <ProjectModal 
                    project={selectedProject} 
                    onClose={() => setSelectedProject(null)} 
                    lang={lang} 
                    />
                )}

                {/* Navigation */}
                <nav className="fixed w-full bg-white/90 backdrop-blur-md shadow-sm z-40 transition-all duration-300">
                    <div className="container mx-auto px-6 py-4 flex justify-between items-center">
                    <div className="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-emerald-600">
                        Marco Alulema
                    </div>
                    
                    <div className="hidden md:flex items-center gap-8 font-medium text-slate-600">
                        {/* Nuevo item de men煤 About Me */}
                        <a href="#about-me" className="hover:text-blue-600 transition-colors">{t.nav.aboutMe}</a>
                        <a href="#journey" className="hover:text-blue-600 transition-colors">{t.nav.journey}</a>
                        <a href="#projects" className="hover:text-blue-600 transition-colors">{t.nav.projects}</a>
                        <a href="#experience" className="hover:text-blue-600 transition-colors">{t.nav.experience}</a>
                        <a href="#contact" className="hover:text-blue-600 transition-colors">{t.nav.contact}</a>
                        <button 
                        onClick={toggleLang}
                        className="flex items-center gap-2 px-3 py-1 rounded-full border border-slate-200 hover:border-blue-400 transition-colors"
                        >
                        <Globe size={16} />
                        <span className="uppercase text-sm">{lang}</span>
                        </button>
                    </div>

                    <div className="md:hidden flex items-center gap-4">
                        <button 
                        onClick={toggleLang}
                        className="flex items-center gap-2 px-3 py-1 rounded-full border border-slate-200"
                        >
                        <span className="uppercase text-sm">{lang}</span>
                        </button>
                        <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-slate-700">
                        {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
                        </button>
                    </div>
                    </div>

                    {/* Mobile Menu */}
                    {isMenuOpen && (
                    <div className="md:hidden bg-white border-t border-slate-100 absolute w-full p-4 flex flex-col gap-4 shadow-lg animate-fade-in-down">
                        <a href="#about-me" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.aboutMe}</a>
                        <a href="#journey" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.journey}</a>
                        <a href="#projects" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.projects}</a>
                        <a href="#contact" onClick={() => setIsMenuOpen(false)} className="p-2 hover:bg-slate-50 rounded">{t.nav.contact}</a>
                    </div>
                    )}
                </nav>

                {/* Hero Section */}
                <header className="pt-32 pb-20 px-6 bg-gradient-to-b from-white to-slate-100">
                    <div className="container mx-auto flex flex-col md:flex-row items-center gap-12">
                    <div className="flex-1 space-y-6 animate-fade-in-left">
                        <div className="inline-block px-4 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold tracking-wide">
                        {lang === 'es' ? 'Disponible para contratar' : 'Open to work'}
                        </div>
                        <h1 className="text-4xl md:text-6xl font-extrabold text-slate-900 leading-tight">
                        {t.hero.role}
                        </h1>
                        <h2 className="text-xl md:text-2xl text-slate-600 font-light">
                        {t.hero.subrole}
                        </h2>
                        <p className="text-lg text-slate-600 max-w-xl leading-relaxed">
                        {t.hero.desc}
                        </p>

                        {/* --- NEW: ERASMUS & EU4M LOGOS BLOCK (ENLARGED) --- */}
                        <div className="flex items-center gap-6 p-6 bg-white rounded-2xl shadow-md border border-slate-100 w-fit transform hover:scale-105 transition-transform duration-300">
                            <span className="text-sm font-bold text-slate-500 uppercase tracking-wider mr-2">Member of:</span>
                            <img src="https://europa.rs/wp-content/uploads/2018/09/Erasmus-Mundus.jpg" alt="Erasmus Mundus" className="h-14 w-auto object-contain" />
                            <div className="w-px h-10 bg-slate-300"></div>
                            <img src="https://pbs.twimg.com/profile_images/654669726589648896/IW22xczE_400x400.png" alt="EU4M" className="h-14 w-14 object-contain rounded-full" />
                        </div>
                        
                        <div className="flex flex-wrap gap-4 pt-4 items-center">
                        <a 
                            href="#contact" 
                            className="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-1 font-medium"
                        >
                            {t.hero.btn_contact}
                        </a>
                        <div className="flex gap-2">
                            <a 
                            href="CV_Dec_2025.docx" 
                            className="px-6 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-blue-300 rounded-lg shadow-sm transition-all flex items-center gap-2"
                            download
                            >
                            <Download size={18} />
                            <span>ES</span>
                            </a>
                            <a 
                            href="CV_Dec_2025_En.pdf" 
                            className="px-6 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-emerald-300 rounded-lg shadow-sm transition-all flex items-center gap-2"
                            download
                            >
                            <Download size={18} />
                            <span>EN</span>
                            </a>
                        </div>
                        
                        <a 
                            href="https://www.linkedin.com/in/marco-alulema-p" 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="p-3 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors shadow-sm ml-2"
                            aria-label="LinkedIn Profile"
                        >
                            <Linkedin size={20} />
                        </a>
                        </div>
                    </div>
                    
                    {/* Abstract Geometric Representation of Mechatronics */}
                    <div className="flex-1 flex justify-center items-center relative animate-fade-in-right">
                        <div className="relative w-80 h-80 md:w-96 md:h-96">
                            <div className="absolute inset-0 bg-blue-500/10 rounded-full blur-3xl animate-pulse"></div>
                            <div className="relative w-full h-full bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col p-6 text-white border border-slate-700">
                                <div className="flex justify-between items-center mb-8 opacity-50">
                                    <Cpu size={32} />
                                    <div className="flex gap-2">
                                        <div className="w-3 h-3 rounded-full bg-red-500"></div>
                                        <div className="w-3 h-3 rounded-full bg-yellow-500"></div>
                                        <div className="w-3 h-3 rounded-full bg-green-500"></div>
                                    </div>
                                </div>
                                <div className="space-y-4 font-mono text-sm opacity-80">
                                    <div className="flex items-center gap-3">
                                        <span className="text-emerald-400">root@marco:~$</span>
                                        <span>init_system --robotics</span>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        <span className="text-emerald-400">root@marco:~$</span>
                                        <span>load_module eu4m_master</span>
                                    </div>
                                    <div className="pl-4 text-slate-400">
                                        {'>'} Loading Ecuador... OK<br/>
                                        {'>'} Loading Spain... OK<br/>
                                        {'>'} Loading Egypt... OK<br/>
                                        {'>'} Loading Germany... OK<br/>
                                        {'>'} System Ready.
                                    </div>
                                    <div className="mt-8 p-4 bg-slate-800/50 rounded border border-slate-600 flex items-center gap-4">
                                    <Award className="text-yellow-400" size={24} />
                                    <div>
                                        <div className="text-xs text-slate-400">Status</div>
                                        <div className="font-bold text-emerald-400">Available for Hire</div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </header>

                {/* --- NUEVA SECCIN: ABOUT ME --- */}
                <section id="about-me" className="py-20 bg-white">
                    <div className="container mx-auto px-6 reveal-on-scroll">
                        <div className="flex flex-col md:flex-row gap-12 items-center">
                            <div className="md:w-1/3 flex justify-center">
                                <div className="relative w-64 h-64 md:w-80 md:h-80">
                                    <div className="absolute inset-0 border-4 border-blue-500/20 rounded-full animate-pulse"></div>
                                    <div className="absolute inset-2 border-4 border-blue-500/40 rounded-full"></div>
                                    {/* Placeholder para la foto del usuario */}
                                    <img 
                                        src={t.aboutMe.photoUrl} 
                                        alt="Marco Alulema" 
                                        className="w-full h-full object-cover rounded-full shadow-2xl border-8 border-white relative z-10"
                                    />
                                    <div className="absolute bottom-4 right-4 z-20 bg-white p-3 rounded-full shadow-lg text-blue-600">
                                        <User size={24} />
                                    </div>
                                </div>
                            </div>
                            <div className="md:w-2/3">
                                <h2 className="text-3xl md:text-4xl font-bold text-slate-900 mb-6 flex items-center gap-3 reveal-on-scroll">
                                    {t.aboutMe.title}
                                    <span className="h-1 w-20 bg-blue-600 rounded-full mt-1"></span>
                                </h2>
                                <div className="space-y-4 text-lg text-slate-600 leading-relaxed reveal-on-scroll">
                                    {t.aboutMe.bio.map((paragraph, idx) => (
                                        <p key={idx}>{paragraph}</p>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* --- SECCIN REDISEADA: TRAYECTORIA ACADMICA (TIMELINE COMPACTO IZQUIERDA + MAPA DERECHA) --- */}
                <section id="journey" className="py-16 bg-slate-50">
                    <div className="container mx-auto px-6">
                        <div className="text-center mb-16 reveal-on-scroll">
                            <h2 className="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{t.journey.title}</h2>
                            <p className="text-slate-500">{t.journey.subtitle}</p>
                        </div>

                        <div className="flex flex-col lg:flex-row gap-12">
                            {/* Columna Izquierda: L铆nea de Tiempo */}
                            <div className="lg:w-1/2 relative pl-8">
                                <div className="absolute left-4 top-0 bottom-0 w-0.5 bg-slate-300"></div>

                                <div className="space-y-4"> 
                                    {t.journey.items.map((item, index) => (
                                        <div 
                                            key={item.id} 
                                            ref={el => journeyRefs.current[item.id] = el}
                                            className="relative flex flex-col md:flex-row gap-6 items-start reveal-on-scroll transition-all duration-300"
                                        >
                                            <div className="absolute left-[-22px] top-6 w-4 h-4 bg-blue-600 rounded-full border-4 border-white shadow-md z-10 animate-pulse-slow"></div>

                                            <div className="w-full">
                                                <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-xl hover:scale-[1.01] transition-all duration-300 group flex flex-col md:flex-row gap-6 items-start">
                                                    <div className="w-24 h-24 shrink-0 bg-white rounded-xl p-2 border border-slate-100 flex items-center justify-center overflow-hidden">
                                                        <img src={item.logoUrl} alt={item.institution} className="max-w-full max-h-full object-contain" />
                                                    </div>
                                                    
                                                    <div className="flex-1">
                                                        <div className="flex justify-between items-start mb-2">
                                                            <div>
                                                                <div className="text-xs font-bold text-blue-600 uppercase tracking-wide mb-1">{item.year}</div>
                                                                <h3 className="text-xl font-bold text-slate-900 leading-tight">{item.title}</h3>
                                                            </div>
                                                            <div className="text-3xl" title={item.location}>{item.flag}</div>
                                                        </div>
                                                        
                                                        <div className="text-sm font-semibold text-slate-700 mb-2 flex items-center gap-1">
                                                            {item.institution}
                                                            {item.webUrl && (
                                                                <a href={item.webUrl} target="_blank" rel="noopener noreferrer" className="text-slate-400 hover:text-blue-500 transition-colors ml-1">
                                                                    <ExternalLink size={14} />
                                                                </a>
                                                            )}
                                                        </div>
                                                        
                                                        <div className="flex items-center gap-2 text-xs text-slate-500 mb-3">
                                                            <MapPin size={12} /> {item.location}
                                                        </div>
                                                        
                                                        <p className="text-sm text-slate-600 leading-relaxed">
                                                            {item.desc}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Columna Derecha: Mapa Mundi Interactivo */}
                            <div className="lg:w-1/2 hidden lg:block relative">
                                <div className="sticky top-32">
                                    <div className="bg-white p-4 rounded-3xl shadow-lg border border-slate-100 reveal-on-scroll">
                                        <SimpleWorldMap 
                                            items={t.journey.items} 
                                            onPinClick={handleMapPinClick} 
                                            title={t.journey.mapTitle} // T铆tulo din谩mico del mapa
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* --- NUEVA CINTA DE LOGOS DE SOFTWARE --- */}
                <SoftwareTicker logos={t.softwareLogos} />

                {/* Projects Grid */}
                <section id="projects" className="py-20 bg-white">
                    <div className="container mx-auto px-6">
                    <div className="text-center mb-16 reveal-on-scroll">
                        <h2 className="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{t.projects.title}</h2>
                        <p className="text-slate-500">{t.projects.subtitle}</p>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {t.projects.items.map((project, idx) => (
                        <div 
                            key={idx} 
                            className="group relative h-96 rounded-2xl overflow-hidden cursor-pointer shadow-md hover:shadow-2xl transition-all duration-500 reveal-on-scroll"
                            onClick={() => setSelectedProject(project)}
                        >
                            {/* IMAGEN DE FONDO & OVERLAY */}
                            <div className="absolute inset-0">
                                <img 
                                    src={project.image} 
                                    alt={project.title} 
                                    className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" 
                                />
                                <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-transparent opacity-90 group-hover:opacity-95 transition-opacity duration-300" />
                            </div>

                            <div className="relative z-10 p-8 h-full flex flex-col">
                                <div className="flex justify-between items-start mb-6">
                                    <div className="p-3 bg-white/10 backdrop-blur-md text-white rounded-lg border border-white/20 group-hover:bg-blue-600 group-hover:border-blue-600 transition-colors duration-300">
                                        <project.icon size={28} />
                                    </div>
                                </div>
                                
                                <h3 className="text-xl font-bold text-white mb-2 group-hover:text-blue-300 transition-colors">{project.title}</h3>
                                
                                <p className="text-slate-300 mb-6 text-sm leading-relaxed flex-grow line-clamp-3">
                                {project.shortDesc}
                                </p>
                                
                                <div className="mt-auto">
                                <div className="flex flex-wrap gap-2 mb-4">
                                    {project.tech.split(',').slice(0, 2).map((tech, i) => (
                                    <span key={i} className="text-xs font-semibold text-slate-200 bg-white/10 px-2 py-1 rounded backdrop-blur-sm border border-white/10">
                                        {tech.trim()}
                                    </span>
                                    ))}
                                    {project.tech.split(',').length > 2 && (
                                    <span className="text-xs font-semibold text-slate-200 bg-white/10 px-2 py-1 rounded backdrop-blur-sm border border-white/10">+{project.tech.split(',').length - 2}</span>
                                    )}
                                </div>
                                
                                <button className="w-full py-2 border border-white/30 text-white rounded-lg hover:bg-white/10 font-medium text-sm transition-colors flex items-center justify-center gap-2 backdrop-blur-sm">
                                    {t.projects.btn_more}
                                    <ChevronRight size={16} />
                                </button>
                                </div>
                            </div>
                        </div>
                        ))}
                    </div>
                    </div>
                </section>

                {/* Experience & Skills Split */}
                <section id="experience" className="py-20 bg-slate-50">
                    <div className="container mx-auto px-6">
                    <div className="flex flex-col lg:flex-row gap-16">
                        
                        {/* Experience Column */}
                        <div className="flex-1 reveal-on-scroll">
                        <h2 className="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3">
                            <Briefcase className="text-blue-600" />
                            {t.experience.title}
                        </h2>
                        <div className="space-y-12 border-l-2 border-slate-200 pl-8 ml-4">
                            {t.experience.items.map((job, idx) => (
                            <div key={idx} className="relative group">
                                <div className="absolute -left-[41px] bg-white border-4 border-blue-100 group-hover:border-blue-600 w-5 h-5 rounded-full transition-colors duration-300"></div>
                                <h3 className="text-xl font-bold text-slate-900">{job.role}</h3>
                                <div className="flex flex-col sm:flex-row sm:items-start gap-3 text-sm text-slate-500 mb-3 mt-1">
                                    {/* Company Logo & Link */}
                                    {job.logoUrl && job.webUrl ? (
                                        <a 
                                            href={job.webUrl} 
                                            target="_blank" 
                                            rel="noopener noreferrer"
                                            className="flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 transition-colors bg-white p-1 rounded-lg border border-slate-100 shadow-sm hover:shadow-md"
                                        >
                                            <img src={job.logoUrl} alt={job.company} className="h-8 w-8 object-contain" />
                                            {job.company}
                                            <ExternalLink size={14} />
                                        </a>
                                    ) : (
                                        <span className="font-semibold text-blue-600">{job.company}</span>
                                    )}
                                    
                                    <div className="flex flex-wrap items-center gap-2 mt-2 sm:mt-0">
                                        <span className="hidden sm:inline text-slate-300"></span>
                                        <span>{job.period}</span>
                                        <span className="hidden sm:inline text-slate-300"></span>
                                        <span className="flex items-center gap-1"><MapPin size={12}/> {job.location}</span>
                                    </div>
                                </div>
                                <p className="text-slate-600 mb-3">{job.desc}</p>
                                <ul className="space-y-1">
                                {job.achievements.map((ach, i) => (
                                    <li key={i} className="flex items-start gap-2 text-sm text-slate-500">
                                    <span className="mt-1.5 w-1.5 h-1.5 bg-emerald-400 rounded-full shrink-0"></span>
                                    {ach}
                                    </li>
                                ))}
                                </ul>
                            </div>
                            ))}
                        </div>
                        </div>

                        {/* Skills Column */}
                        <div className="flex-1 reveal-on-scroll">
                        
                        {/* --- SECCIN MOVIDA: CERTIFICACIONES PRIMERO --- */}
                        <div className="mb-12">
                            <h2 className="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3">
                                <Medal className="text-yellow-500" />
                                {t.certifications.title}
                            </h2>
                            <div className="grid grid-cols-1 gap-4">
                                {t.certifications.items.map((cert, idx) => (
                                    <div 
                                        key={idx} 
                                        onClick={() => setViewingFile({ type: 'pdf', url: cert.url, title: cert.name })}
                                        className="bg-white p-4 rounded-xl border-l-4 border-yellow-400 shadow-sm flex justify-between items-center hover:shadow-md transition-shadow cursor-pointer hover:bg-slate-50"
                                    >
                                        <div>
                                            <h4 className="font-bold text-slate-800">{cert.name}</h4>
                                            <div className="text-sm text-slate-500">{cert.issuer}</div>
                                        </div>
                                        <span className="text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded">{cert.year}</span>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* --- IDIOMAS --- */}
                        <div className="mb-12">
                            <LanguageCard languages={t.languages} title={t.languagesTitle} />
                        </div>

                        {/* --- HABILIDADES TCNICAS DESPUS --- */}
                        <h2 className="text-3xl font-bold text-slate-900 mb-8 flex items-center gap-3">
                            <Code className="text-emerald-600" />
                            {t.skills.title}
                        </h2>
                        <div className="space-y-8">
                            {t.skills.categories.map((cat, idx) => (
                            <div key={idx} className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                                <h4 className="font-bold text-slate-800 mb-4 flex items-center gap-2">
                                {idx === 0 ? <Briefcase size={18} className="text-amber-500"/> : null}
                                {idx === 1 ? <Code size={18} className="text-blue-500"/> : null}
                                {idx === 2 ? <Cpu size={18} className="text-purple-500"/> : null}
                                {idx === 3 ? <Calculator size={18} className="text-red-500"/> : null} 
                                {cat.name}
                                </h4>
                                <div className="flex flex-wrap gap-2">
                                {cat.items.map((item, i) => (
                                    <div key={i} className="px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 font-medium shadow-sm">
                                    {item}
                                    </div>
                                ))}
                                </div>
                            </div>
                            ))}
                        </div>

                        </div>
                    </div>
                    </div>
                </section>

                {/* Contact Section */}
                <section id="contact" className="py-24 bg-slate-900 text-white relative overflow-hidden">
                    {/* Decorative Circles */}
                    <div className="absolute top-0 right-0 w-64 h-64 bg-blue-500 rounded-full blur-[100px] opacity-20"></div>
                    <div className="absolute bottom-0 left-0 w-64 h-64 bg-emerald-500 rounded-full blur-[100px] opacity-20"></div>

                    <div className="container mx-auto px-6 relative z-10">
                    <div className="max-w-4xl mx-auto bg-white/5 backdrop-blur-lg border border-white/10 rounded-3xl p-8 md:p-12 text-center md:text-left flex flex-col md:flex-row items-center gap-12 reveal-on-scroll">
                        
                        <div className="flex-1 space-y-6">
                        <h2 className="text-3xl md:text-4xl font-bold mb-4">{t.contact.title}</h2>
                        <p className="text-slate-300 text-lg">{t.contact.text}</p>
                        
                        <div className="space-y-4 mt-8">
                            <div className="flex items-center gap-4 justify-center md:justify-start">
                                <div className="w-10 h-10 rounded-full bg-blue-600/20 flex items-center justify-center text-blue-400">
                                    <Phone size={20} />
                                </div>
                                <div className="text-left">
                                    <div className="text-xs text-slate-400">{t.contact.phone}</div>
                                    <a href="https://wa.me/4915210587024" className="hover:text-blue-400 transition-colors">+49 1521 0587 024</a>
                                </div>
                            </div>

                            <div className="flex items-center gap-4 justify-center md:justify-start">
                                <div className="w-10 h-10 rounded-full bg-emerald-600/20 flex items-center justify-center text-emerald-400">
                                    <Mail size={20} />
                                </div>
                                <div className="text-left">
                                    <div className="text-xs text-slate-400">{t.contact.email}</div>
                                    <a href="mailto:marco.alulema@eu4m.eu" className="hover:text-emerald-400 transition-colors">marco.alulema@eu4m.eu</a>
                                </div>
                            </div>
                            
                            <div className="flex items-center gap-4 justify-center md:justify-start">
                                <div className="w-10 h-10 rounded-full bg-blue-700/20 flex items-center justify-center text-blue-300">
                                    <Linkedin size={20} />
                                </div>
                                <div className="text-left">
                                    <div className="text-xs text-slate-400">LinkedIn</div>
                                    <a href="https://www.linkedin.com/in/marco-alulema-p" target="_blank" rel="noopener noreferrer" className="hover:text-blue-300 transition-colors">linkedin.com/in/marco-alulema-p</a>
                                </div>
                            </div>
                        </div>
                        </div>

                        <div className="flex-1 w-full">
                        <form className="space-y-4" onSubmit={(e) => e.preventDefault()}>
                            <div className="grid grid-cols-2 gap-4">
                            <input type="text" placeholder="Name" className="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 transition-colors" />
                            <input type="email" placeholder="Email" className="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 transition-colors" />
                            </div>
                            <textarea rows={4} placeholder="Message" className="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 transition-colors"></textarea>
                            <button className="w-full bg-gradient-to-r from-blue-600 to-emerald-600 hover:opacity-90 text-white font-bold py-4 rounded-lg shadow-lg transition-transform transform active:scale-95">
                            {lang === 'es' ? 'Enviar Mensaje' : 'Send Message'}
                            </button>
                        </form>
                        </div>

                    </div>
                    
                    <div className="text-center text-slate-500 text-sm mt-12">
                        漏 2025 Marco Alulema Paredes. All rights reserved.
                    </div>
                    </div>
                </section>
                </div>
            );
        }

        // Renderizado inicial
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Portfolio />);
    </script>
</body>
</html>